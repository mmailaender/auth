var Fs=Object.defineProperty;var ma=e=>{throw TypeError(e)};var Vs=(e,t,n)=>t in e?Fs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Q=(e,t,n)=>Vs(e,typeof t!="symbol"?t+"":t,n),nr=(e,t,n)=>t.has(e)||ma("Cannot "+n);var L=(e,t,n)=>(nr(e,t,"read from private field"),n?n.call(e):t.get(e)),ae=(e,t,n)=>t.has(e)?ma("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ce=(e,t,n,r)=>(nr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),wt=(e,t,n)=>(nr(e,t,"access private method"),n);import{q as Ls,r as Ms,v as pa,w as Ds,a as N,t as K,o as Ue,b as fr,x as Bs,s as Xe,d as zr,j as Jr}from"./disclose-version.w09OKvMr.js";import{D as di,C as Ws,q as js,F as pe,K as zt,ax as fi,at as hi,G as hr,E as Kr,g as C,I as Hs,J as ba,L as Jt,P as He,aC as qs,aP as vn,M as Yr,N as Wn,O as gi,aG as vi,ao as mi,A as $t,aQ as Xr,aR as ya,aS as Qr,aT as Us,aF as Gs,aU as zs,aV as Zr,aW as pi,a9 as Js,as as bi,aX as Ks,Q as Ys,w as wa,aY as Xs,aw as Qs,H as $r,R as Se,aN as yi,an as wi,i as _i,ak as Zs,l as $s,aK as eo,aZ as to,a_ as no,ab as ro,a$ as ao,ar as _a,a3 as Ea,b0 as io,b1 as so,ae as gr,y as ht,b2 as oo,e as Ta,ad as Ei,al as co,am as lo,p as Oe,t as X,a as Ne,d as D,c as O,r as R,s as Y,f as Me,b3 as uo,b4 as fo,aO as ho,b5 as go,ac as vo}from"./entry.BCpqZHYJ.js";import{p as Sn,b as v,r as bt,i as ie,l as ea}from"./props.CeX9gEMn.js";import{d as fe,g as jn,h as mo,r as mn,G as po,s as Sa,b as xa,f as bo}from"./github.BSyZe2OA.js";import{p as Ge}from"./index.DW9FamRL.js";import"./legacy.KdXuhMaS.js";const yo=[];function pn(e,t=!1){return bn(e,new Map,"",yo)}function bn(e,t,n,r,a=null){if(typeof e=="object"&&e!==null){var i=t.get(e);if(i!==void 0)return i;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(di(e)){var u=Array(e.length);t.set(e,u),a!==null&&t.set(a,u);for(var s=0;s<e.length;s+=1){var c=e[s];s in e&&(u[s]=bn(c,t,n,r))}return u}if(Ws(e)===js){u={},t.set(e,u),a!==null&&t.set(a,u);for(var o in e)u[o]=bn(e[o],t,n,r);return u}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function")return bn(e.toJSON(),t,n,r,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}function Ca(e,t){return t}function wo(e,t,n,r){for(var a=[],i=t.length,u=0;u<i;u++)Us(t[u].e,a,!0);var s=i>0&&a.length===0&&n!==null;if(s){var c=n.parentNode;Gs(c),c.append(n),r.clear(),Je(e,t[0].prev,t[i-1].next)}zs(a,()=>{for(var o=0;o<i;o++){var l=t[o];s||(r.delete(l.k),Je(e,l.prev,l.next)),Zr(l.e,!s)}})}function Ia(e,t,n,r,a,i=null){var u=e,s={flags:t,items:new Map,first:null},c=(t&pi)!==0;if(c){var o=e;u=pe?zt(fi(o)):o.appendChild(hi())}pe&&hr();var l=null,d=!1,f=Js(()=>{var g=n();return di(g)?g:g==null?[]:vi(g)});Kr(()=>{var g=C(f),h=g.length;if(d&&h===0)return;d=h===0;let m=!1;if(pe){var y=u.data===Hs;y!==(h===0)&&(u=ba(),zt(u),Jt(!1),m=!0)}if(pe){for(var w=null,b,p=0;p<h;p++){if(He.nodeType===8&&He.data===qs){u=He,m=!0,Jt(!1);break}var T=g[p],_=r(T,p);b=Ti(He,s,w,null,T,_,p,a,t),s.items.set(_,b),w=b}h>0&&zt(ba())}if(!pe){var x=bi;_o(g,s,u,a,t,(x.f&vn)!==0,r)}i!==null&&(h===0?l?Yr(l):l=Wn(()=>i(u)):l!==null&&gi(l,()=>{l=null})),m&&Jt(!0),C(f)}),pe&&(u=He)}function _o(e,t,n,r,a,i,u,s){var ee,he,Ee,be;var c=(a&Ks)!==0,o=(a&(Xr|Qr))!==0,l=e.length,d=t.items,f=t.first,g=f,h,m=null,y,w=[],b=[],p,T,_,x;if(c)for(x=0;x<l;x+=1)p=e[x],T=u(p,x),_=d.get(T),_!==void 0&&((ee=_.a)==null||ee.measure(),(y??(y=new Set)).add(_));for(x=0;x<l;x+=1){if(p=e[x],T=u(p,x),_=d.get(T),_===void 0){var I=g?g.e.nodes_start:n;m=Ti(I,t,m,m===null?t.first:m.next,p,T,x,r,a),d.set(T,m),w=[],b=[],g=m.next;continue}if(o&&Eo(_,p,x,a),_.e.f&vn&&(Yr(_.e),c&&((he=_.a)==null||he.unfix(),(y??(y=new Set)).delete(_))),_!==g){if(h!==void 0&&h.has(_)){if(w.length<b.length){var A=b[0],S;m=A.prev;var B=w[0],q=w[w.length-1];for(S=0;S<w.length;S+=1)Aa(w[S],A,n);for(S=0;S<b.length;S+=1)h.delete(b[S]);Je(t,B.prev,q.next),Je(t,m,B),Je(t,q,A),g=A,m=q,x-=1,w=[],b=[]}else h.delete(_),Aa(_,g,n),Je(t,_.prev,_.next),Je(t,_,m===null?t.first:m.next),Je(t,m,_),m=_;continue}for(w=[],b=[];g!==null&&g.k!==T;)(i||!(g.e.f&vn))&&(h??(h=new Set)).add(g),b.push(g),g=g.next;if(g===null)continue;_=g}w.push(_),m=_,g=_.next}if(g!==null||h!==void 0){for(var Z=h===void 0?[]:vi(h);g!==null;)(i||!(g.e.f&vn))&&Z.push(g),g=g.next;var M=Z.length;if(M>0){var G=a&pi&&l===0?n:null;if(c){for(x=0;x<M;x+=1)(Ee=Z[x].a)==null||Ee.measure();for(x=0;x<M;x+=1)(be=Z[x].a)==null||be.fix()}wo(t,Z,G,d)}}c&&mi(()=>{var z;if(y!==void 0)for(_ of y)(z=_.a)==null||z.apply()}),$t.first=t.first&&t.first.e,$t.last=m&&m.e}function Eo(e,t,n,r){r&Xr&&ya(e.v,t),r&Qr?ya(e.i,n):e.i=n}function Ti(e,t,n,r,a,i,u,s,c,o){var l=(c&Xr)!==0,d=(c&Xs)===0,f=l?d?Ys(a):wa(a):a,g=c&Qr?wa(u):u,h={i:g,v:f,k:i,a:null,e:null,prev:n,next:r};try{return h.e=Wn(()=>s(e,f,g),pe),h.e.prev=n&&n.e,h.e.next=r&&r.e,n===null?t.first=h:(n.next=h,n.e.next=h.e),r!==null&&(r.prev=h,r.e.prev=h.e),h}finally{}}function Aa(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==r;){var u=Qs(i);a.before(i),i=u}}function Je(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function ve(e,t,...n){var r=e,a=Se,i;Kr(()=>{a!==(a=t())&&(i&&(Zr(i),i=null),i=Wn(()=>a(r,...n)))},$r),pe&&(r=He)}function Si(e,t,n,r,a,i){let u=pe;pe&&hr();var s,c,o=null;pe&&He.nodeType===1&&(o=He,hr());var l=pe?He:e,d;Kr(()=>{const f=t()||null;var g=n||f==="svg"?yi:null;f!==s&&(d&&(f===null?gi(d,()=>{d=null,c=null}):f===c?Yr(d):(Zr(d),pa(!1))),f&&f!==c&&(d=Wn(()=>{if(o=pe?o:g?document.createElementNS(g,f):document.createElement(f),Ls(o,o),r){pe&&Ms(f)&&o.append(document.createComment(""));var h=pe?fi(o):o.appendChild(hi());pe&&(h===null?Jt(!1):zt(h)),r(o,h)}$t.nodes_end=o,l.before(o)})),s=f,s&&(c=s),pa(!0))},$r),u&&(Jt(!0),zt(l))}function ka(e,t,n){wi(()=>{var r=_i(()=>t(e,n==null?void 0:n())||{});if(n&&(r!=null&&r.update)){var a=!1,i={};Zs(()=>{var u=n();$s(u),a&&eo(i,u)&&(i=u,r.update(u))}),a=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function Ie(e,t,n){var r=e.__className,a=To(t);pe&&e.className===a?e.__className=a:(r!==a||pe&&e.className!==a)&&(t==null?e.removeAttribute("class"):e.className=a,e.__className=a)}function To(e,t){return(e??"")+""}function vr(e,t,n,r){var a=e.__styles??(e.__styles={});a[t]!==n&&(a[t]=n,n==null?e.style.removeProperty(t):e.style.setProperty(t,n,""))}const So=()=>performance.now(),qe={tick:e=>requestAnimationFrame(e),now:()=>So(),tasks:new Set};function xi(){const e=qe.now();qe.tasks.forEach(t=>{t.c(e)||(qe.tasks.delete(t),t.f())}),qe.tasks.size!==0&&qe.tick(xi)}function xo(e){let t;return qe.tasks.size===0&&qe.tick(xi),{promise:new Promise(n=>{qe.tasks.add(t={c:e,f:n})}),abort(){qe.tasks.delete(t)}}}function hn(e,t){e.dispatchEvent(new CustomEvent(t))}function Co(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function Ra(e){const t={},n=e.split(";");for(const r of n){const[a,i]=r.split(":");if(!a||i===void 0)break;const u=Co(a.trim());t[u]=i.trim()}return t}const Io=e=>e;function Ao(e,t,n,r){var a=(e&io)!==0,i=(e&so)!==0,u=a&&i,s=(e&ao)!==0,c=u?"both":a?"in":"out",o,l=t.inert,d=t.style.overflow,f,g;function h(){var p=bi,T=$t;_a(null),Ea(null);try{return o??(o=n()(t,(r==null?void 0:r())??{},{direction:c}))}finally{_a(p),Ea(T)}}var m={is_global:s,in(){var p;if(t.inert=l,!a){g==null||g.abort(),(p=g==null?void 0:g.reset)==null||p.call(g);return}i||f==null||f.abort(),hn(t,"introstart"),f=mr(t,h(),g,1,()=>{hn(t,"introend"),f==null||f.abort(),f=o=void 0,t.style.overflow=d})},out(p){if(!i){p==null||p(),o=void 0;return}t.inert=!0,hn(t,"outrostart"),g=mr(t,h(),f,0,()=>{hn(t,"outroend"),p==null||p()})},stop:()=>{f==null||f.abort(),g==null||g.abort()}},y=$t;if((y.transitions??(y.transitions=[])).push(m),a&&Ds){var w=s;if(!w){for(var b=y.parent;b&&b.f&$r;)for(;(b=b.parent)&&!(b.f&to););w=!b||(b.f&no)!==0}w&&wi(()=>{_i(()=>m.in())})}}function mr(e,t,n,r,a){var i=r===1;if(ro(t)){var u,s=!1;return mi(()=>{if(!s){var y=t({direction:i?"in":"out"});u=mr(e,y,n,r,a)}}),{abort:()=>{s=!0,u==null||u.abort()},deactivate:()=>u.deactivate(),reset:()=>u.reset(),t:()=>u.t()}}if(n==null||n.deactivate(),!(t!=null&&t.duration))return a(),{abort:Se,deactivate:Se,reset:Se,t:()=>r};const{delay:c=0,css:o,tick:l,easing:d=Io}=t;var f=[];if(i&&n===void 0&&(l&&l(0,1),o)){var g=Ra(o(0,1));f.push(g,g)}var h=()=>1-r,m=e.animate(f,{duration:c});return m.onfinish=()=>{var y=(n==null?void 0:n.t())??1-r;n==null||n.abort();var w=r-y,b=t.duration*Math.abs(w),p=[];if(b>0){var T=!1;if(o)for(var _=Math.ceil(b/16.666666666666668),x=0;x<=_;x+=1){var I=y+w*d(x/_),A=Ra(o(I,1-I));p.push(A),T||(T=A.overflow==="hidden")}T&&(e.style.overflow="hidden"),h=()=>{var S=m.currentTime;return y+w*d(S/b)},l&&xo(()=>{if(m.playState!=="running")return!1;var S=h();return l(S,1-S),!0})}m=e.animate(p,{duration:b,fill:"forwards"}),m.onfinish=()=>{h=()=>r,l==null||l(r,1-r),a()}},{abort:()=>{m&&(m.cancel(),m.effect=null,m.onfinish=Se)},deactivate:()=>{a=Se},reset:()=>{r===0&&(l==null||l(1,0))},t:()=>h()}}var ft=(e,t=[])=>({parts:(...n)=>{if(ko(t))return ft(e,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>ft(e,[...t,...n]),rename:n=>ft(n,t),keys:()=>t,build:()=>[...new Set(t)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${_t(e)}"][data-part="${_t(r)}"]`,`& [data-scope="${_t(e)}"][data-part="${_t(r)}"]`].join(", "),attrs:{"data-scope":_t(e),"data-part":_t(r)}}}),{})}),_t=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),ko=e=>e.length===0,re=e=>e?"":void 0,Ro=1,Oo=9,No=11,Hn=e=>typeof e=="object"&&e!==null,gt=e=>Hn(e)&&e.nodeType===Ro&&typeof e.nodeName=="string",Ci=e=>Hn(e)&&e.nodeType===Oo,Po=e=>Hn(e)&&e===e.window,Ii=e=>gt(e)?e.localName||"":"#document";function Fo(e){return["html","body","#document"].includes(Ii(e))}var Vo=e=>Hn(e)&&e.nodeType!==void 0,pr=e=>Vo(e)&&e.nodeType===No&&"host"in e;function Lo(e,t){return!e||!t||!gt(e)||!gt(t)?!1:e===t||e.contains(t)}function Pt(e){return Ci(e)?e:Po(e)?e.document:(e==null?void 0:e.ownerDocument)??document}function Mo(e){return Pt(e).documentElement}function vt(e){var t;return pr(e)?vt(e.host):Ci(e)?e.defaultView??window:gt(e)?((t=e.ownerDocument)==null?void 0:t.defaultView)??window:window}function Do(e){let t=e.activeElement;for(;t!=null&&t.shadowRoot;){const n=t.shadowRoot.activeElement;if(n===t)break;t=n}return t}var ta=()=>typeof document<"u";function Bo(){const e=navigator.userAgentData;return(e==null?void 0:e.platform)??navigator.platform}var na=e=>ta()&&e.test(Bo()),Wo=e=>ta()&&e.test(navigator.userAgent),jo=e=>ta()&&e.test(navigator.vendor),Ai=()=>na(/^Mac/),ki=()=>qo()&&jo(/apple/i),Ho=()=>Wo(/firefox\//i),qo=()=>na(/mac|iphone|ipad|ipod/i),sf=()=>na(/iP(hone|ad|od)|iOS/);function Uo(e){var t,n,r;return((t=e.composedPath)==null?void 0:t.call(e))??((r=(n=e.nativeEvent)==null?void 0:n.composedPath)==null?void 0:r.call(n))}function ra(e){const t=Uo(e);return(t==null?void 0:t[0])??e.target}var Go=e=>Lo(e.currentTarget,ra(e));function zo(e){var t;return((t=e.nativeEvent)==null?void 0:t.isComposing)??e.isComposing}var Ri=e=>e.id;function Oi(e,t,n=Ri){return e.find(r=>n(r)===t)}function Ni(e,t,n=Ri){const r=Oi(e,t,n);return r?e.indexOf(r):-1}function Pi(e,t,n=!0){let r=Ni(e,t);return r=n?(r+1)%e.length:Math.min(r+1,e.length-1),e[r]}function Fi(e,t,n=!0){let r=Ni(e,t);return r===-1?n?e[e.length-1]:null:(r=n?(r-1+e.length)%e.length:Math.max(0,r-1),e[r])}function Jo(e){if(Ii(e)==="html")return e;const t=e.assignedSlot||e.parentNode||pr(e)&&e.host||Mo(e);return pr(t)?t.host:t}var aa=e=>typeof e=="object"&&e!==null&&e.nodeType===1,Vi=e=>aa(e)&&e.tagName==="IFRAME";function Ko(e){return aa(e)?e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0:!1}function Yo(e){return parseInt(e.getAttribute("tabindex")||"0",10)<0}var ia="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",Li=(e,t=!1)=>{if(!e)return[];const n=Array.from(e.querySelectorAll(ia));(t==!0||t=="if-empty"&&n.length===0)&&aa(e)&&br(e)&&n.unshift(e);const a=n.filter(br);return a.forEach((i,u)=>{if(Vi(i)&&i.contentDocument){const s=i.contentDocument.body;a.splice(u,1,...Li(s))}}),a};function br(e){return!e||e.closest("[inert]")?!1:e.matches(ia)&&Ko(e)}function qn(e,t){if(!e)return[];const n=Array.from(e.querySelectorAll(ia)),r=n.filter(Oa);return t&&Oa(e)&&r.unshift(e),r.forEach((a,i)=>{if(Vi(a)&&a.contentDocument){const u=a.contentDocument.body,s=qn(u);r.splice(i,1,...s)}}),!r.length&&t?n:r}function Oa(e){return e!=null&&e.tabIndex>0?!0:br(e)&&!Yo(e)}function Xo(e,t){const n=qn(e,t),r=n[0]||null,a=n[n.length-1]||null;return[r,a]}function Qo(e,t){const n=qn(e),r=(e==null?void 0:e.ownerDocument)||document,a=t??r.activeElement;if(!a)return null;const i=n.indexOf(a);return n[i+1]||null}function of(e){const{root:t,getInitialEl:n,filter:r,enabled:a=!0}=e;if(!a)return;let i=null;if(i||(i=typeof n=="function"?n():n),i||(i=t==null?void 0:t.querySelector("[data-autofocus],[autofocus]")),!i){const u=qn(t);i=r?u.filter(r)[0]:u[0]}return i||t||void 0}var Zo=/auto|scroll|overlay|hidden|clip/;function $o(e){const t=vt(e),{overflow:n,overflowX:r,overflowY:a,display:i}=t.getComputedStyle(e);return Zo.test(n+a+r)&&!["inline","contents"].includes(i)}function yr(e){const t=new Set;function n(r){const a=globalThis.requestAnimationFrame(r);t.add(()=>globalThis.cancelAnimationFrame(a))}return n(()=>n(e)),function(){t.forEach(a=>a())}}function We(e){const t=globalThis.requestAnimationFrame(e);return()=>{globalThis.cancelAnimationFrame(t)}}function ec(e,t){if(!e)return;const{attributes:n,callback:r}=t,a=e.ownerDocument.defaultView||window,i=new a.MutationObserver(u=>{for(const s of u)s.type==="attributes"&&s.attributeName&&n.includes(s.attributeName)&&r(s)});return i.observe(e,{attributes:!0,attributeFilter:n}),()=>i.disconnect()}function tc(e,t){const{defer:n}=t,r=n?We:i=>i(),a=[];return a.push(r(()=>{const i=typeof e=="function"?e():e;a.push(ec(i,t))})),()=>{a.forEach(i=>i==null?void 0:i())}}function nc(e,t){const{callback:n}=t;if(!e)return;const r=e.ownerDocument.defaultView||window,a=new r.MutationObserver(n);return a.observe(e,{childList:!0,subtree:!0}),()=>a.disconnect()}function rc(e,t){const{defer:n}=t,r=n?We:i=>i(),a=[];return a.push(r(()=>{const i=typeof e=="function"?e():e;a.push(nc(i,t))})),()=>{a.forEach(i=>i==null?void 0:i())}}function ac(e){const t=Jo(e);return Fo(t)?Pt(t).body:gt(t)&&$o(t)?t:ac(t)}function ic(e,t={}){const{triggerElement:n,onFocus:r}=t,a=(e==null?void 0:e.ownerDocument)||document,i=a.body;function u(s){if(s.key!=="Tab")return;let c=null;const[o,l]=Xo(e,!0),d=!o&&!l;s.shiftKey&&(a.activeElement===o||d)?c=n:!s.shiftKey&&a.activeElement===n?c=o:!s.shiftKey&&(a.activeElement===l||d)&&(c=Qo(i,n)),c&&(s.preventDefault(),typeof r=="function"?r(c):c.focus())}return a==null||a.addEventListener("keydown",u,!0),()=>{a==null||a.removeEventListener("keydown",u,!0)}}function cf(e,t){const{defer:n,triggerElement:r,...a}=t,i=n?We:s=>s(),u=[];return u.push(i(()=>{const s=typeof e=="function"?e():e,c=typeof r=="function"?r():r;u.push(ic(s,{triggerElement:c,...a}))})),()=>{u.forEach(s=>s==null?void 0:s())}}function sa(e,t){return Array.from((e==null?void 0:e.querySelectorAll(t))??[])}function Un(e){const t={getRootNode:n=>{var r;return((r=n.getRootNode)==null?void 0:r.call(n))??document},getDoc:n=>Pt(t.getRootNode(n)),getWin:n=>t.getDoc(n).defaultView??window,getActiveElement:n=>Do(t.getRootNode(n)),isActiveElement:(n,r)=>r===t.getActiveElement(n),getById:(n,r)=>t.getRootNode(n).getElementById(r),setValue:(n,r)=>{if(n==null||r==null)return;const a=r.toString();n.value!==a&&(n.value=r.toString())}};return{...t,...e}}var rr=new WeakMap;function sc(e,t,n){rr.has(e)||rr.set(e,new Map);const r=rr.get(e),a=r.get(t);if(!a)return r.set(t,n()),()=>{var s;(s=r.get(t))==null||s(),r.delete(t)};const i=n(),u=()=>{i(),a(),r.delete(t)};return r.set(t,u),()=>{r.get(t)===u&&(i(),r.set(t,a))}}function lf(e,t){return e?sc(e,"style",()=>{const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}):()=>{}}var oc={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"},cc=1e3/60;function lc(e,t){const n=e();if(gt(n)&&n.isConnected)return t(n),()=>{};{const r=setInterval(()=>{const a=e();gt(a)&&a.isConnected&&(t(a),clearInterval(r))},cc);return()=>clearInterval(r)}}function uf(e,t){const n=[];return e==null||e.forEach(r=>{const a=lc(r,t);n.push(a)}),()=>{n.forEach(r=>r())}}var df=(e,t,n,r)=>{const a=typeof e=="function"?e():e;return a==null||a.addEventListener(t,n,r),()=>{a==null||a.removeEventListener(t,n,r)}},ff=e=>e.button===2||Ai()&&e.ctrlKey&&e.button===0;function uc(e,t,n){const a=(u=>{const s=requestAnimationFrame(u);return()=>cancelAnimationFrame(s)})(()=>{e.removeEventListener(t,i,!0),n()}),i=()=>{a(),n()};return e.addEventListener(t,i,{once:!0,capture:!0}),a}function dc(e){return(e==null?void 0:e.matches("a[href]"))??!1}function fc(e){if(!dc(e))return;const t=()=>e.click();Ho()?uc(e,"keyup",t):queueMicrotask(t)}function hf(e,t,n){if(!e)return;const r=e.ownerDocument.defaultView||window,a=new r.CustomEvent(t,n);return e.dispatchEvent(a)}var hc={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},Na={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function Mi(e,t={}){const{dir:n="ltr",orientation:r="horizontal"}=t;let{key:a}=e;return a=hc[a]??a,n==="rtl"&&r==="horizontal"&&a in Na&&(a=Na[a]),a}var Di=e=>e[0],Bi=e=>e[e.length-1],gc=(e,...t)=>e.concat(t),vc=(e,...t)=>e.filter(n=>!t.includes(n));function mc(e){for(;e.length>0;)e.pop();return e}var Pa=e=>(e==null?void 0:e.constructor.name)==="Array",pc=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!mt(e[n],t[n]))return!1;return!0},mt=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof(e==null?void 0:e.isEqual)=="function"&&typeof(t==null?void 0:t.isEqual)=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(Pa(e)&&Pa(t))return pc(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(t??Object.create(null)),r=n.length;for(let a=0;a<r;a++)if(!Reflect.has(e,n[a]))return!1;for(let a=0;a<r;a++){const i=n[a];if(!mt(e[i],t[i]))return!1}return!0},Fa=(e,...t)=>(typeof e=="function"?e(...t):e)??void 0,je=e=>e,bc=()=>{},yc=(...e)=>(...t)=>{e.forEach(function(n){n==null||n(...t)})},Va=(()=>{let e=0;return()=>(e++,e.toString(36))})(),xn=e=>Array.isArray(e),Wi=e=>e!=null&&typeof e=="object",yn=e=>Wi(e)&&!xn(e),wc=e=>typeof e=="number"&&!Number.isNaN(e),xe=e=>typeof e=="string",Cn=e=>typeof e=="function",gf=e=>e==null,ji=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),_c=e=>Object.prototype.toString.call(e),Hi=Function.prototype.toString,Ec=Hi.call(Object),Tc=e=>{if(!Wi(e)||_c(e)!="[object Object]")return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=ji(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Hi.call(n)==Ec};function et(e){if(!Sc(e)||e===void 0)return e;const t=Reflect.ownKeys(e).filter(r=>typeof r=="string"),n={};for(const r of t){const a=e[r];a!==void 0&&(n[r]=et(a))}return n}var Sc=e=>e&&typeof e=="object"&&e.constructor===Object;function wn(...e){e.length===1?e[0]:e[1],e.length===2&&e[0]}function _n(...e){e.length===1?e[0]:e[1],e.length===2&&e[0]}const xc=Symbol(),La=Object.getPrototypeOf,wr=new WeakMap,Cc=e=>e&&(wr.has(e)?wr.get(e):La(e)===Object.prototype||La(e)===Array.prototype),Ic=e=>Cc(e)&&e[xc]||null,Ma=(e,t=!0)=>{wr.set(e,t)};function Ac(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function qi(e,t){const n=Ac();return n?(n[e]||(n[e]=t()),n[e]):t()}var Kt=qi("__zag__refSet",()=>new WeakSet),kc=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,Rc=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,Oc=e=>typeof e=="object"&&e!==null&&"nodeType"in e&&typeof e.nodeName=="string",Nc=e=>kc(e)||Rc(e)||Oc(e),_r=e=>e!==null&&typeof e=="object",Er=e=>_r(e)&&!Kt.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!Nc(e)&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise);function Da(e,t,n){typeof n.value=="object"&&!Er(n.value)&&(n.value=ot(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function ot(e){if(typeof e!="object")return e;var t=0,n,r,a,i=Object.prototype.toString.call(e);if(i==="[object Object]"?a=Object.create(Object.getPrototypeOf(e)||null):i==="[object Array]"?a=Array(e.length):i==="[object Set]"?(a=new Set,e.forEach(function(u){a.add(ot(u))})):i==="[object Map]"?(a=new Map,e.forEach(function(u,s){a.set(ot(s),ot(u))})):i==="[object Date]"?a=new Date(+e):i==="[object RegExp]"?a=new RegExp(e.source,e.flags):i==="[object DataView]"?a=new e.constructor(ot(e.buffer)):i==="[object ArrayBuffer]"?a=e.slice(0):i==="[object Blob]"?a=e.slice():i.slice(-6)==="Array]"&&(a=new e.constructor(e)),a){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)Da(a,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(a,n=r[t])&&a[n]===e[n]||Da(a,n,Object.getOwnPropertyDescriptor(e,n))}return a||e}var it=qi("__zag__proxyStateMap",()=>new WeakMap),Pc=(e=Object.is,t=(s,c)=>new Proxy(s,c),n=new WeakMap,r=(s,c)=>{const o=n.get(s);if((o==null?void 0:o[0])===c)return o[1];const l=Array.isArray(s)?[]:Object.create(Object.getPrototypeOf(s));return Ma(l,!0),n.set(s,[c,l]),Reflect.ownKeys(s).forEach(d=>{const f=Reflect.get(s,d);Kt.has(f)?(Ma(f,!1),l[d]=f):it.has(f)?l[d]=xt(f):l[d]=f}),Object.freeze(l)},a=new WeakMap,i=[1,1],u=s=>{if(!_r(s))throw new Error("object required");const c=a.get(s);if(c)return c;let o=i[0];const l=new Set,d=(I,A=++i[0])=>{o!==A&&(o=A,l.forEach(S=>S(I,A)))};let f=i[1];const g=(I=++i[1])=>(f!==I&&!l.size&&(f=I,m.forEach(([A])=>{const S=A[1](I);S>o&&(o=S)})),o),h=I=>(A,S)=>{const B=[...A];B[1]=[I,...B[1]],d(B,S)},m=new Map,y=(I,A)=>{if(l.size){const S=A[3](h(I));m.set(I,[A,S])}else m.set(I,[A])},w=I=>{var S;const A=m.get(I);A&&(m.delete(I),(S=A[1])==null||S.call(A))},b=I=>(l.add(I),l.size===1&&m.forEach(([S,B],q)=>{const Z=S[3](h(q));m.set(q,[S,Z])}),()=>{l.delete(I),l.size===0&&m.forEach(([S,B],q)=>{B&&(B(),m.set(q,[S]))})}),p=Array.isArray(s)?[]:Object.create(Object.getPrototypeOf(s)),_=t(p,{deleteProperty(I,A){const S=Reflect.get(I,A);w(A);const B=Reflect.deleteProperty(I,A);return B&&d(["delete",[A],S]),B},set(I,A,S,B){var G;const q=Reflect.has(I,A),Z=Reflect.get(I,A,B);if(q&&(e(Z,S)||a.has(S)&&e(Z,a.get(S))))return!0;w(A),_r(S)&&(S=Ic(S)||S);let M=S;if(!((G=Object.getOwnPropertyDescriptor(I,A))!=null&&G.set)){!it.has(S)&&Er(S)&&(M=oa(S));const ee=!Kt.has(M)&&it.get(M);ee&&y(A,ee)}return Reflect.set(I,A,M,B),d(["set",[A],S,Z]),!0}});a.set(s,_);const x=[p,g,r,b];return it.set(_,x),Reflect.ownKeys(s).forEach(I=>{const A=Object.getOwnPropertyDescriptor(s,I);A.get||A.set?Object.defineProperty(p,I,A):_[I]=s[I]}),_})=>[u,it,Kt,e,t,Er,n,r,a,i],[Fc]=Pc();function oa(e={}){return Fc(e)}function Ba(e,t,n){const r=it.get(e);let a;const i=[],u=r[3];let s=!1;const o=u(l=>{if(i.push(l),n){t(i.splice(0));return}a||(a=Promise.resolve().then(()=>{a=void 0,s&&t(i.splice(0))}))});return s=!0,()=>{s=!1,o()}}function xt(e){const t=it.get(e),[n,r,a]=t;return a(n,r())}function Wa(e){return Kt.add(e),e}function Vc(e,t){Object.keys(t).forEach(a=>{if(Object.getOwnPropertyDescriptor(e,a))throw new Error("object property already defined");const i=t[a],{get:u,set:s}=typeof i=="function"?{get:i}:i,c={};c.get=()=>u(xt(r)),s&&(c.set=o=>s(r,o)),Object.defineProperty(e,a,c)});const r=oa(e);return r}var Lc=Object.defineProperty,Mc=(e,t,n)=>t in e?Lc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k=(e,t,n)=>Mc(e,typeof t!="symbol"?t+"":t,n);function Ui(e,...t){for(const n of t){const r=et(n);for(const a in r)Tc(n[a])?(e[a]||(e[a]={}),Ui(e[a],n[a])):e[a]=n[a]}return e}function Pe(e){return xe(e)?{type:e}:e}function ze(e){return e?xn(e)?e.slice():[e]:[]}function Gi(e){return yn(e)&&e.predicate!=null}var Dc=()=>!0;function ca(e,t,n,r){return a=>{var i;return xe(a)?!!((i=e[a])!=null&&i.call(e,t,n,r)):Cn(a)?a(t,n,r):a.predicate(e)(t,n,r)}}function Bc(...e){return{predicate:t=>(n,r,a)=>e.map(ca(t,n,r,a)).some(Boolean)}}function Wc(...e){return{predicate:t=>(n,r,a)=>e.map(ca(t,n,r,a)).every(Boolean)}}function jc(e){return{predicate:t=>(n,r,a)=>!ca(t,n,r,a)(e)}}function Hc(...e){return(t,n,r)=>r.state.matches(...e)}var la={or:Bc,and:Wc,not:jc,stateIn:Hc};function zi(e,t){return e=e??Dc,(n,r,a)=>{if(xe(e)){const i=t[e];return Cn(i)?i(n,r,a):i}return Gi(e)?e.predicate(t)(n,r,a):e==null?void 0:e(n,r,a)}}function ar(e,t){return(n,r,a)=>Gi(e)?e.predicate(t)(n,r,a):e}function qc(e){var i,u;const t=e.computed??je({}),n=e.context??je({}),r=e.initial?(u=(i=e.states)==null?void 0:i[e.initial])==null?void 0:u.tags:[],a=oa({value:e.initial??"",previousValue:"",event:je({}),previousEvent:je({}),context:Vc(n,t),done:!1,tags:r??[],hasTag(s){return this.tags.includes(s)},matches(...s){return s.includes(this.value)},can(s){return je(this).nextEvents.includes(s)},get nextEvents(){var o,l;const s=((l=(o=e.states)==null?void 0:o[this.value])==null?void 0:l.on)??{},c=(e==null?void 0:e.on)??{};return Object.keys({...s,...c})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return je(a)}function Dt(e,t){return(n,r)=>{if(wc(e))return e;if(Cn(e))return e(n,r);if(xe(e)){const a=Number.parseFloat(e);if(!Number.isNaN(a))return a;if(t){const i=t==null?void 0:t[e];return _n(i==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${e}\`. It doesn't exist in \`options.delays\``),Cn(i)?i(n,r):i}}}}function Uc(e){return xe(e)?{target:e}:e}function Gc(e,t){return(n,r,a)=>ze(e).map(Uc).find(i=>zi(i.guard,t)(n,r,a)??i.target??i.actions)}var zc=class{constructor(e,t){var n,r,a,i,u;k(this,"status","Not Started"),k(this,"state"),k(this,"initialState"),k(this,"initialContext"),k(this,"id"),k(this,"type","machine"),k(this,"activityEvents",new Map),k(this,"delayedEvents",new Map),k(this,"stateListeners",new Set),k(this,"doneListeners",new Set),k(this,"contextWatchers",new Set),k(this,"removeStateListener",bc),k(this,"parent"),k(this,"children",new Map),k(this,"guardMap"),k(this,"actionMap"),k(this,"delayMap"),k(this,"activityMap"),k(this,"sync"),k(this,"options"),k(this,"config"),k(this,"_created",()=>{if(!this.config.created)return;const s=Pe("machine.created");this.executeActions(this.config.created,s)}),k(this,"start",s=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Ba(this.state,()=>{this.stateListeners.forEach(g=>{g(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(Pe("machine.start"),ze(this.config.activities),"machine.start"),this.executeActions(this.config.entry,Pe("machine.start"));const c=Pe("machine.init"),o=yn(s)?s.value:s,l=yn(s)?s.context:void 0;l&&this.setContext(l);const d={target:o??this.config.initial},f=this.getNextStateInfo(d,c);return this.initialState=f,this.performStateChangeEffects(this.state.value,f,c),this}),k(this,"setupContextWatchers",()=>{const{watch:s}=this.config;if(!s)return;let c=xt(this.state.context);const o=Ba(this.state.context,()=>{var d;const l=xt(this.state.context);for(const[f,g]of Object.entries(s))(((d=this.options.compareFns)==null?void 0:d[f])??Object.is)(c[f],l[f])||this.executeActions(g,this.state.event);c=l});this.contextWatchers.add(o)}),k(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,Pe("machine.stop")),this.executeActions(this.config.exit,Pe("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),k(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),k(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(s=>s()),this.contextWatchers.clear()}),k(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(s=>{s.forEach(c=>c())}),this.delayedEvents.clear()}),k(this,"stopActivities",s=>{var c,o;s?((c=this.activityEvents.get(s))==null||c.forEach(l=>l()),(o=this.activityEvents.get(s))==null||o.clear(),this.activityEvents.delete(s)):(this.activityEvents.forEach(l=>{l.forEach(d=>d()),l.clear()}),this.activityEvents.clear())}),k(this,"sendChild",(s,c)=>{const o=Pe(s),l=Fa(c,this.contextSnapshot),d=this.children.get(l);d||_n(`[@zag-js/core] Cannot send '${o.type}' event to unknown child`),d.send(o)}),k(this,"stopChild",s=>{this.children.has(s)||_n(`[@zag-js/core > stop-child] Cannot stop unknown child ${s}`),this.children.get(s).stop(),this.children.delete(s)}),k(this,"removeChild",s=>{this.children.delete(s)}),k(this,"stopChildren",()=>{this.children.forEach(s=>s.stop()),this.children.clear()}),k(this,"setParent",s=>{this.parent=s}),k(this,"spawn",(s,c)=>{const o=Fa(s);return c&&(o.id=c),o.type="machine.actor",o.setParent(this),this.children.set(o.id,je(o)),o.onDone(()=>{this.removeChild(o.id)}).start(),je(Wa(o))}),k(this,"stopActivity",s=>{var o;if(!this.state.value)return;const c=this.activityEvents.get(this.state.value);(o=c==null?void 0:c.get(s))==null||o(),c==null||c.delete(s)}),k(this,"addActivityCleanup",(s,c,o)=>{var l;s&&(this.activityEvents.has(s)?(l=this.activityEvents.get(s))==null||l.set(c,o):this.activityEvents.set(s,new Map([[c,o]])))}),k(this,"setState",s=>{this.state.previousValue=this.state.value,this.state.value=s;const c=this.getStateNode(s);s==null?mc(this.state.tags):this.state.tags=ze(c==null?void 0:c.tags)}),k(this,"setContext",s=>{s&&Ui(this.state.context,et(s))}),k(this,"setOptions",s=>{const c=et(s);this.actionMap={...this.actionMap,...c.actions},this.delayMap={...this.delayMap,...c.delays},this.activityMap={...this.activityMap,...c.activities},this.guardMap={...this.guardMap,...c.guards}}),k(this,"getStateNode",s=>{var c;if(s)return(c=this.config.states)==null?void 0:c[s]}),k(this,"getNextStateInfo",(s,c)=>{const o=this.determineTransition(s,c),l=!(o!=null&&o.target),d=(o==null?void 0:o.target)??this.state.value,f=this.state.value!==d,g=this.getStateNode(d),m={reenter:!l&&!f&&!(o!=null&&o.internal),transition:o,stateNode:g,target:d,changed:f};return this.log("NextState:",`[${c.type}]`,this.state.value,"---->",m.target),m}),k(this,"getAfterActions",(s,c)=>{let o;const l=this.state.value;return{entry:()=>{o=globalThis.setTimeout(()=>{const d=this.getNextStateInfo(s,this.state.event);this.performStateChangeEffects(l,d,this.state.event)},c)},exit:()=>{globalThis.clearTimeout(o)}}}),k(this,"getDelayedEventActions",s=>{const c=this.getStateNode(s),o=this.state.event;if(!c||!c.after)return;const l=[],d=[];if(xn(c.after)){const f=this.determineTransition(c.after,o);if(!f)return;if(!ji(f,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(f)}`);const h=Dt(f.delay,this.delayMap)(this.contextSnapshot,o),m=this.getAfterActions(f,h);return l.push(m.entry),d.push(m.exit),{entries:l,exits:d}}if(yn(c.after))for(const f in c.after){const g=c.after[f],m=Dt(f,this.delayMap)(this.contextSnapshot,o),y=this.getAfterActions(g,m);l.push(y.entry),d.push(y.exit)}return{entries:l,exits:d}}),k(this,"executeActions",(s,c)=>{var l;const o=ar(s,this.guardMap)(this.contextSnapshot,c,this.guardMeta);for(const d of ze(o)){const f=xe(d)?(l=this.actionMap)==null?void 0:l[d]:d;wn(xe(d)&&!f,`[@zag-js/core > execute-actions] No implementation found for action: \`${d}\``),f==null||f(this.state.context,c,this.meta)}}),k(this,"executeActivities",(s,c,o)=>{var l;for(const d of c){const f=xe(d)?(l=this.activityMap)==null?void 0:l[d]:d;if(!f){wn(`[@zag-js/core > execute-activity] No implementation found for activity: \`${d}\``);continue}const g=f(this.state.context,s,this.meta);if(g){const h=xe(d)?d:d.name||Va();this.addActivityCleanup(o??this.state.value,h,g)}}}),k(this,"createEveryActivities",(s,c)=>{if(s)if(xn(s)){const o=ze(s).find(g=>{const h=g.delay,y=Dt(h,this.delayMap)(this.contextSnapshot,this.state.event);return zi(g.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??y!=null});if(!o)return;const d=Dt(o.delay,this.delayMap)(this.contextSnapshot,this.state.event);c(()=>{const g=globalThis.setInterval(()=>{this.executeActions(o.actions,this.state.event)},d);return()=>{globalThis.clearInterval(g)}})}else for(const o in s){const l=s==null?void 0:s[o],f=Dt(o,this.delayMap)(this.contextSnapshot,this.state.event);c(()=>{const h=globalThis.setInterval(()=>{this.executeActions(l,this.state.event)},f);return()=>{globalThis.clearInterval(h)}})}}),k(this,"setEvent",s=>{this.state.previousEvent=this.state.event,this.state.event=Wa(Pe(s))}),k(this,"performExitEffects",(s,c)=>{const o=this.state.value;if(o==="")return;const l=s?this.getStateNode(s):void 0;this.stopActivities(o);const d=ar(l==null?void 0:l.exit,this.guardMap)(this.contextSnapshot,c,this.guardMeta),f=ze(d),g=this.delayedEvents.get(o);g&&f.push(...g),this.executeActions(f,c),this.delayedEvents.delete(o)}),k(this,"performEntryEffects",(s,c)=>{const o=this.getStateNode(s),l=ze(o==null?void 0:o.activities);this.createEveryActivities(o==null?void 0:o.every,h=>{l.unshift(h)}),l.length>0&&this.executeActivities(c,l);const d=ar(o==null?void 0:o.entry,this.guardMap)(this.contextSnapshot,c,this.guardMeta),f=ze(d),g=this.getDelayedEventActions(s);o!=null&&o.after&&g&&(this.delayedEvents.set(s,g==null?void 0:g.exits),f.push(...g.entries)),this.executeActions(f,c),(o==null?void 0:o.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(h=>{h(this.stateSnapshot)}),this.stop())}),k(this,"performTransitionEffects",(s,c)=>{const o=this.determineTransition(s,c);this.executeActions(o==null?void 0:o.actions,c)}),k(this,"performStateChangeEffects",(s,c,o)=>{this.setEvent(o);const l=c.changed||c.reenter;l&&this.performExitEffects(s,o),this.performTransitionEffects(c.transition,o),this.setState(c.target),l&&this.performEntryEffects(c.target,o)}),k(this,"determineTransition",(s,c)=>{const o=Gc(s,this.guardMap);return o==null?void 0:o(this.contextSnapshot,c,this.guardMeta)}),k(this,"sendParent",s=>{var o;this.parent||_n("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const c=Pe(s);(o=this.parent)==null||o.send(c)}),k(this,"log",(...s)=>{}),k(this,"send",s=>{const c=Pe(s);this.transition(this.state.value,c)}),k(this,"transition",(s,c)=>{var g,h;const o=xe(s)?this.getStateNode(s):s==null?void 0:s.stateNode,l=Pe(c);if(!o&&!this.config.on){const m=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${s}, \`event\`: ${l.type}`;wn(m);return}const d=((g=o==null?void 0:o.on)==null?void 0:g[l.type])??((h=this.config.on)==null?void 0:h[l.type]),f=this.getNextStateInfo(d,l);return this.performStateChangeEffects(this.state.value,f,l),f.stateNode}),k(this,"subscribe",s=>(this.stateListeners.add(s),this.status==="Running"&&s(this.stateSnapshot),()=>{this.stateListeners.delete(s)})),k(this,"onDone",s=>(this.doneListeners.add(s),this)),k(this,"onTransition",s=>(this.stateListeners.add(s),this.status==="Running"&&s(this.stateSnapshot),this)),this.config=ot(e),this.options=ot(t??{}),this.id=this.config.id??`machine-${Va()}`,this.guardMap=((n=this.options)==null?void 0:n.guards)??{},this.actionMap=((r=this.options)==null?void 0:r.actions)??{},this.delayMap=((a=this.options)==null?void 0:a.delays)??{},this.activityMap=((i=this.options)==null?void 0:i.activities)??{},this.sync=((u=this.options)==null?void 0:u.sync)??!1,this.state=qc(this.config),this.initialContext=xt(this.state.context)}get stateSnapshot(){return je(xt(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const e=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return e.stateSnapshot},get initialContext(){return e.initialContext},get initialState(){var t;return((t=e.initialState)==null?void 0:t.target)??""}}}get meta(){var e;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((e=this.initialState)==null?void 0:e.target)??"",getState:()=>this.stateSnapshot,getAction:t=>this.actionMap[t],getGuard:t=>this.guardMap[t]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const e=this.getState();return{value:e.value,tags:e.tags}}},Gn=(e,t)=>new zc(e,t),Jc=(...e)=>e.map(t=>{var n;return(n=t==null?void 0:t.trim)==null?void 0:n.call(t)}).filter(Boolean).join(" "),Kc=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,ja=e=>{const t={};let n;for(;n=Kc.exec(e);)t[n[1]]=n[2];return t},Yc=(e,t)=>{if(xe(e)){if(xe(t))return`${e};${t}`;e=ja(e)}else xe(t)&&(t=ja(t));return Object.assign({},e??{},t??{})};function vf(...e){let t={};for(let n of e){for(let r in t){if(r.startsWith("on")&&typeof t[r]=="function"&&typeof n[r]=="function"){t[r]=yc(n[r],t[r]);continue}if(r==="className"||r==="class"){t[r]=Jc(t[r],n[r]);continue}if(r==="style"){t[r]=Yc(t[r],n[r]);continue}t[r]=n[r]!==void 0?n[r]:t[r]}for(let r in n)t[r]===void 0&&(t[r]=n[r])}return t}function Xc(e){return new Proxy({},{get(){return e}})}var tt=()=>e=>Array.from(new Set(e)),Qc=ft("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator"),Bt=Qc.build(),le=Un({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`accordion:${e.id}`},getItemId:(e,t)=>{var n,r;return((r=(n=e.ids)==null?void 0:n.item)==null?void 0:r.call(n,t))??`accordion:${e.id}:item:${t}`},getItemContentId:(e,t)=>{var n,r;return((r=(n=e.ids)==null?void 0:n.itemContent)==null?void 0:r.call(n,t))??`accordion:${e.id}:content:${t}`},getItemTriggerId:(e,t)=>{var n,r;return((r=(n=e.ids)==null?void 0:n.itemTrigger)==null?void 0:r.call(n,t))??`accordion:${e.id}:trigger:${t}`},getRootEl:e=>le.getById(e,le.getRootId(e)),getTriggerEls:e=>{const n=`[aria-controls][data-ownedby='${CSS.escape(le.getRootId(e))}']:not([disabled])`;return sa(le.getRootEl(e),n)},getFirstTriggerEl:e=>Di(le.getTriggerEls(e)),getLastTriggerEl:e=>Bi(le.getTriggerEls(e)),getNextTriggerEl:(e,t)=>Pi(le.getTriggerEls(e),le.getItemTriggerId(e,t)),getPrevTriggerEl:(e,t)=>Fi(le.getTriggerEls(e),le.getItemTriggerId(e,t))});function Zc(e,t,n){const r=e.context.focusedValue,a=e.context.value,i=e.context.multiple;function u(c){let o=c;i&&o.length>1&&(o=[o[0]]),t({type:"VALUE.SET",value:o})}function s(c){return{expanded:a.includes(c.value),focused:r===c.value,disabled:!!(c.disabled??e.context.disabled)}}return{focusedValue:r,value:a,setValue:u,getItemState:s,getRootProps(){return n.element({...Bt.root.attrs,dir:e.context.dir,id:le.getRootId(e.context),"data-orientation":e.context.orientation})},getItemProps(c){const o=s(c);return n.element({...Bt.item.attrs,dir:e.context.dir,id:le.getItemId(e.context,c.value),"data-state":o.expanded?"open":"closed","data-focus":re(o.focused),"data-disabled":re(o.disabled),"data-orientation":e.context.orientation})},getItemContentProps(c){const o=s(c);return n.element({...Bt.itemContent.attrs,dir:e.context.dir,role:"region",id:le.getItemContentId(e.context,c.value),"aria-labelledby":le.getItemTriggerId(e.context,c.value),hidden:!o.expanded,"data-state":o.expanded?"open":"closed","data-disabled":re(o.disabled),"data-focus":re(o.focused),"data-orientation":e.context.orientation})},getItemIndicatorProps(c){const o=s(c);return n.element({...Bt.itemIndicator.attrs,dir:e.context.dir,"aria-hidden":!0,"data-state":o.expanded?"open":"closed","data-disabled":re(o.disabled),"data-focus":re(o.focused),"data-orientation":e.context.orientation})},getItemTriggerProps(c){const{value:o}=c,l=s(c);return n.button({...Bt.itemTrigger.attrs,type:"button",dir:e.context.dir,id:le.getItemTriggerId(e.context,o),"aria-controls":le.getItemContentId(e.context,o),"aria-expanded":l.expanded,disabled:l.disabled,"data-orientation":e.context.orientation,"aria-disabled":l.disabled,"data-state":l.expanded?"open":"closed","data-ownedby":le.getRootId(e.context),onFocus(){l.disabled||t({type:"TRIGGER.FOCUS",value:o})},onBlur(){l.disabled||t("TRIGGER.BLUR")},onClick(d){l.disabled||(ki()&&d.currentTarget.focus(),t({type:"TRIGGER.CLICK",value:o}))},onKeyDown(d){if(d.defaultPrevented||l.disabled)return;const f={ArrowDown(){e.context.isHorizontal||t({type:"GOTO.NEXT",value:o})},ArrowUp(){e.context.isHorizontal||t({type:"GOTO.PREV",value:o})},ArrowRight(){e.context.isHorizontal&&t({type:"GOTO.NEXT",value:o})},ArrowLeft(){e.context.isHorizontal&&t({type:"GOTO.PREV",value:o})},Home(){t({type:"GOTO.FIRST",value:o})},End(){t({type:"GOTO.LAST",value:o})}},g=Mi(d,{dir:e.context.dir,orientation:e.context.orientation}),h=f[g];h&&(h(d),d.preventDefault())}})}}}var{and:$c,not:el}=la;function tl(e){const t=et(e);return Gn({id:"accordion",initial:"idle",context:{focusedValue:null,value:[],collapsible:!1,multiple:!1,orientation:"vertical",...t},watch:{value:"coarseValue",multiple:"coarseValue"},created:"coarseValue",computed:{isHorizontal:n=>n.orientation==="horizontal"},on:{"VALUE.SET":{actions:["setValue"]}},states:{idle:{on:{"TRIGGER.FOCUS":{target:"focused",actions:"setFocusedValue"}}},focused:{on:{"GOTO.NEXT":{actions:"focusNextTrigger"},"GOTO.PREV":{actions:"focusPrevTrigger"},"TRIGGER.CLICK":[{guard:$c("isExpanded","canToggle"),actions:["collapse"]},{guard:el("isExpanded"),actions:["expand"]}],"GOTO.FIRST":{actions:"focusFirstTrigger"},"GOTO.LAST":{actions:"focusLastTrigger"},"TRIGGER.BLUR":{target:"idle",actions:"clearFocusedValue"}}}}},{guards:{canToggle:n=>!!n.collapsible||!!n.multiple,isExpanded:(n,r)=>n.value.includes(r.value)},actions:{collapse(n,r){const a=n.multiple?vc(n.value,r.value):[];Wt.value(n,n.multiple?a:[])},expand(n,r){const a=n.multiple?gc(n.value,r.value):[r.value];Wt.value(n,a)},focusFirstTrigger(n){var r;(r=le.getFirstTriggerEl(n))==null||r.focus()},focusLastTrigger(n){var r;(r=le.getLastTriggerEl(n))==null||r.focus()},focusNextTrigger(n){if(!n.focusedValue)return;const r=le.getNextTriggerEl(n,n.focusedValue);r==null||r.focus()},focusPrevTrigger(n){if(!n.focusedValue)return;const r=le.getPrevTriggerEl(n,n.focusedValue);r==null||r.focus()},setFocusedValue(n,r){Wt.focusedValue(n,r.value)},clearFocusedValue(n){Wt.focusedValue(n,null)},setValue(n,r){Wt.value(n,r.value)},coarseValue(n){!n.multiple&&n.value.length>1&&(wn("The value of accordion should be a single value when multiple is false."),n.value=[n.value[0]])}}})}var Ha={change(e){var t;(t=e.onValueChange)==null||t.call(e,{value:Array.from(e.value)})},focusChange(e){var t;(t=e.onFocusChange)==null||t.call(e,{value:e.focusedValue})}},Wt={value(e,t){mt(e.value,t)||(e.value=t,Ha.change(e))},focusedValue(e,t){mt(e.focusedValue,t)||(e.focusedValue=t,Ha.focusChange(e))}};tt()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value"]);tt()(["value","disabled"]);const qa={className:"class",defaultChecked:"checked",defaultValue:"value",htmlFor:"for",onBlur:"onfocusout",onChange:"oninput",onFocus:"onfocusin",onDoubleClick:"ondblclick"};function nl(e){let t="";for(let n in e){const r=e[n];r!=null&&(n.startsWith("--")||(n=n.replace(/[A-Z]/g,a=>`-${a.toLowerCase()}`)),t+=`${n}:${r};`)}return t}const rl="viewBox,className,preserveAspectRatio,fillRule,clipPath,clipRule,strokeWidth,strokeLinecap,strokeLinejoin,strokeDasharray,strokeDashoffset,strokeMiterlimit".split(",");function al(e){return e in qa?qa[e]:rl.includes(e)?e:e.toLowerCase()}function il(e,t){if(e==="style"&&typeof t=="object")return nl(t);if(t!==!1)return t}const zn=Xc(e=>{const t={};for(const n in e)t[al(n)]=il(n,e[n]);return t}),sl=e=>typeof e=="function";function ol(e){return new Proxy(e(),{get(t,n){const r=e();let a=Reflect.get(r,n);return sl(a)?a.bind(r):a}})}function cl(e){let t=gr(Sn(e.state));const n=e.subscribe(r=>{ht(t,Sn(r))});return oo(n),ol(()=>C(t))}function ll(e,t){const n=typeof e=="function"?e():e,r=pn(t==null?void 0:t.context);return n.setContext(r),n._created(),Ta(()=>{if(!(t!=null&&t.actions))return;const a=pn(t.actions);n.setOptions({actions:a})}),Ta(()=>{const a=pn(t==null?void 0:t.context);n.setContext(a)}),Ei(()=>(n.start(t==null?void 0:t.state),n.stop)),n}function Jn(e,t){const n=ll(e,t);return[cl(n),n.send,n]}const Kn=(()=>{let e=0;return()=>Math.random().toString(36).substring(2)+e++})();function Yn(e){const t=Symbol();return[a=>co(t,a),()=>lo(t)??e,t]}const[ul,dl,mf]=Yn();var fl=K("<div><!></div>");function hl(e,t){Oe(t,!0);let n=v(t,"value",31,()=>Sn([])),r=v(t,"animDuration",3,200),a=v(t,"base",3,""),i=v(t,"padding",3,""),u=v(t,"spaceY",3,"space-y-2"),s=v(t,"rounded",3,"rounded"),c=v(t,"width",3,"w-full"),o=v(t,"classes",3,""),l=bt(t,["$$slots","$$events","$$legacy","value","animDuration","base","padding","spaceY","rounded","width","classes","children","iconOpen","iconClosed"]);const[d,f]=Jn(tl({id:Kn(),onValueChange(b){n(b.value)}}),{context:{...l,get value(){return pn(n())}}}),g=D(()=>Zc(d,f,zn));ul({get api(){return C(g)},get animDuration(){return r()},get iconClosed(){return t.iconClosed},get iconOpen(){return t.iconOpen}});var h=fl();const m=D(()=>C(g).getRootProps());let y;var w=O(h);ve(w,()=>t.children??Se),R(h),X(()=>y=fe(h,y,{class:`${a()??""} ${i()??""} ${u()??""} ${s()??""} ${c()??""} ${o()??""}`,...C(m),"data-testid":"accordion"})),N(e,h),Ne()}const gl=e=>e;function Ji(e){const t=e-1;return t*t*t+1}function Ua(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function pf(e,{delay:t=0,duration:n=400,easing:r=gl}={}){const a=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:i=>`opacity: ${i*a}`}}function bf(e,{delay:t=0,duration:n=400,easing:r=Ji,x:a=0,y:i=0,opacity:u=0}={}){const s=getComputedStyle(e),c=+s.opacity,o=s.transform==="none"?"":s.transform,l=c*(1-u),[d,f]=Ua(a),[g,h]=Ua(i);return{delay:t,duration:n,easing:r,css:(m,y)=>`
			transform: ${o} translate(${(1-m)*d}${f}, ${(1-m)*g}${h});
			opacity: ${c-l*y}`}}function vl(e,{delay:t=0,duration:n=400,easing:r=Ji,axis:a="y"}={}){const i=getComputedStyle(e),u=+i.opacity,s=a==="y"?"height":"width",c=parseFloat(i[s]),o=a==="y"?["top","bottom"]:["left","right"],l=o.map(w=>`${w[0].toUpperCase()}${w.slice(1)}`),d=parseFloat(i[`padding${l[0]}`]),f=parseFloat(i[`padding${l[1]}`]),g=parseFloat(i[`margin${l[0]}`]),h=parseFloat(i[`margin${l[1]}`]),m=parseFloat(i[`border${l[0]}Width`]),y=parseFloat(i[`border${l[1]}Width`]);return{delay:t,duration:n,easing:r,css:w=>`overflow: hidden;opacity: ${Math.min(w*20,1)*u};${s}: ${w*c}px;padding-${o[0]}: ${w*d}px;padding-${o[1]}: ${w*f}px;margin-${o[0]}: ${w*g}px;margin-${o[1]}: ${w*h}px;border-${o[0]}-width: ${w*m}px;border-${o[1]}-width: ${w*y}px;min-${s}: 0`}}var ml=K('<div data-testid="accordion-lead"><!></div>'),pl=K('<button><!> <div data-testid="accordion-control"><!></div> <div data-testid="accordion-indicator"><!></div></button>'),bl=K("<div><!></div>"),yl=K("<div><!> <!></div>");function wl(e,t){Oe(t,!0);const n=v(t,"headingElement",3,"h3"),r=v(t,"controlBase",3,"flex text-start items-center space-x-4 w-full"),a=v(t,"controlHover",3,"hover:preset-tonal-primary"),i=v(t,"controlPadding",3,"py-2 px-4"),u=v(t,"controlRounded",3,"rounded"),s=v(t,"leadBase",3,""),c=v(t,"leadClasses",3,""),o=v(t,"contentBase",3,"flex-1"),l=v(t,"contentClasses",3,""),d=v(t,"indicatorBase",3,""),f=v(t,"indicatorClasses",3,""),g=v(t,"panelPadding",3,"py-2 px-4"),h=bt(t,["$$slots","$$events","$$legacy","headingElement","base","spaceY","classes","controlBase","controlHover","controlPadding","controlRounded","controlClasses","leadBase","leadClasses","contentBase","contentClasses","indicatorBase","indicatorClasses","panelBase","panelPadding","panelRounded","panelClasses","control","lead","panel"]),m=dl(),y=jn(),[w,b]=y;var p=yl();const T=D(()=>m.api.getItemProps(h));let _;var x=O(p);Si(x,n,!1,(S,B)=>{var q=pl();const Z=D(()=>b({class:`${r()} ${a()} ${i()} ${u()} ${t.controlClasses}`,...m.api.getItemTriggerProps(h),"data-testid":"accordion-control"},[{attribute_name:"formaction"}]));let M;var G=O(q);{var ee=V=>{var P=ml(),J=O(P);ve(J,()=>t.lead),R(P),X(()=>Ie(P,`${s()??""} ${c()??""}`)),N(V,P)};ie(G,V=>{t.lead&&V(ee)})}var he=Y(G,2),Ee=O(he);ve(Ee,()=>t.control),R(he);var be=Y(he,2),z=O(be);{var H=V=>{var P=Ue(),J=Me(P);{var $=U=>{var oe=Ue(),ue=Me(oe);ve(ue,()=>m.iconOpen),N(U,oe)},ge=U=>{var oe=fr("−");N(U,oe)};ie(J,U=>{m.iconOpen?U($):U(ge,!1)})}N(V,P)},ne=V=>{var P=Ue(),J=Me(P);{var $=U=>{var oe=Ue(),ue=Me(oe);ve(ue,()=>m.iconClosed),N(U,oe)},ge=U=>{var oe=fr("+");N(U,oe)};ie(J,U=>{m.iconClosed?U($):U(ge,!1)},!0)}N(V,P)};ie(z,V=>{m.api.value.includes(t.value)?V(H):V(ne,!1)})}R(be),R(q),X(()=>{M=fe(q,M,{...C(Z)}),Ie(he,`${o()??""} ${l()??""}`),Ie(be,`${d()??""} ${f()??""}`)}),N(B,q)});var I=Y(x,2);{var A=S=>{var B=bl();const q=D(()=>m.api.getItemContentProps(h));let Z;var M=O(B);ve(M,()=>t.panel??Se),R(B),X(()=>Z=fe(B,Z,{class:`${t.panelBase??""} ${g()??""} ${t.panelRounded??""} ${t.panelClasses??""}`,...C(q),"data-testid":"accordion-panel"})),Ao(3,B,()=>vl,()=>({duration:m.animDuration})),N(S,B)};ie(I,S=>{m.api.value.includes(t.value)&&S(A)})}R(p),X(()=>_=fe(p,_,{class:`${t.base??""} ${t.spaceY??""} ${t.classes??""}`,...C(T),"data-testid":"accordion-item"})),N(e,p),Ne()}Object.assign(hl,{Item:wl});var _l=ft("avatar").parts("root","image","fallback"),ir=_l.build(),De=Un({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`avatar:${e.id}`},getImageId:e=>{var t;return((t=e.ids)==null?void 0:t.image)??`avatar:${e.id}:image`},getFallbackId:e=>{var t;return((t=e.ids)==null?void 0:t.fallback)??`avatar:${e.id}:fallback`},getRootEl:e=>De.getById(e,De.getRootId(e)),getImageEl:e=>De.getById(e,De.getImageId(e))});function El(e,t,n){const r=e.matches("loaded");return{loaded:r,setSrc(a){t({type:"SRC.SET",src:a})},setLoaded(){t({type:"IMG.LOADED",src:"api"})},setError(){t({type:"IMG.ERROR",src:"api"})},getRootProps(){return n.element({...ir.root.attrs,dir:e.context.dir,id:De.getRootId(e.context)})},getImageProps(){return n.img({...ir.image.attrs,hidden:!r,dir:e.context.dir,id:De.getImageId(e.context),"data-state":r?"visible":"hidden",onLoad(){t({type:"IMG.LOADED",src:"element"})},onError(){t({type:"IMG.ERROR",src:"element"})}})},getFallbackProps(){return n.element({...ir.fallback.attrs,dir:e.context.dir,id:De.getFallbackId(e.context),hidden:r,"data-state":r?"hidden":"visible"})}}}function Tl(e){const t=et(e);return Gn({id:"avatar",initial:"loading",activities:["trackImageRemoval"],context:t,on:{"SRC.CHANGE":{target:"loading"},"IMG.UNMOUNT":{target:"error"}},states:{loading:{activities:["trackSrcChange"],entry:["checkImageStatus"],on:{"IMG.LOADED":{target:"loaded",actions:["invokeOnLoad"]},"IMG.ERROR":{target:"error",actions:["invokeOnError"]}}},error:{activities:["trackSrcChange"],on:{"IMG.LOADED":{target:"loaded",actions:["invokeOnLoad"]}}},loaded:{activities:["trackSrcChange"],on:{"IMG.ERROR":{target:"error",actions:["invokeOnError"]}}}}},{activities:{trackSrcChange(n,r,{send:a}){const i=De.getImageEl(n);return tc(i,{attributes:["src","srcset"],callback(){a({type:"SRC.CHANGE"})}})},trackImageRemoval(n,r,{send:a}){const i=De.getRootEl(n);return rc(i,{callback(u){Array.from(u[0].removedNodes).find(o=>o.nodeType===Node.ELEMENT_NODE&&o.matches("[data-scope=avatar][data-part=image]"))&&a({type:"IMG.UNMOUNT"})}})}},actions:{invokeOnLoad(n){var r;(r=n.onStatusChange)==null||r.call(n,{status:"loaded"})},invokeOnError(n){var r;(r=n.onStatusChange)==null||r.call(n,{status:"error"})},checkImageStatus(n,r,{send:a}){const i=De.getImageEl(n);if(i!=null&&i.complete){const u=Sl(i)?"IMG.LOADED":"IMG.ERROR";a({type:u,src:"ssr"})}}}})}function Sl(e){return e.complete&&e.naturalWidth!==0&&e.naturalHeight!==0}tt()(["dir","id","ids","onStatusChange","getRootNode"]);var xl=K("<img>"),Cl=K("<figure><!> <span><!></span></figure>");function Il(e,t){Oe(t,!0);let n=v(t,"base",3,"overflow-hidden isolate"),r=v(t,"background",3,"bg-surface-400-600"),a=v(t,"size",3,"size-16"),i=v(t,"font",3,""),u=v(t,"border",3,""),s=v(t,"rounded",3,"rounded-full"),c=v(t,"shadow",3,""),o=v(t,"classes",3,""),l=v(t,"imageBase",3,"w-full object-cover"),d=v(t,"imageClasses",3,""),f=v(t,"fallbackBase",3,"w-full h-full flex justify-center items-center"),g=v(t,"fallbackClasses",3,"");const[h,m]=Jn(Tl({id:Kn()})),y=D(()=>El(h,m,zn));function w(M){return M.split(" ").map(G=>G[0]).join("")}var b=Cl();const p=D(()=>C(y).getRootProps());let T;var _=O(b);{var x=M=>{var G=xl();const ee=D(()=>C(y).getImageProps());let he;X(()=>{he=fe(G,he,{...C(ee),src:t.src,srcset:t.srcset,alt:t.name,class:`${l()??""} ${d()??""}`,"data-testid":"avatar-image"}),vr(G,"filter",t.filter&&`url(${t.filter})`)}),mo(G),Bs(G),N(M,G)};ie(_,M=>{(t.src||t.srcset)&&M(x)})}var I=Y(_,2);const A=D(()=>C(y).getFallbackProps());let S;var B=O(I);{var q=M=>{var G=Ue(),ee=Me(G);ve(ee,()=>t.children),N(M,G)},Z=M=>{var G=fr();X(()=>Xe(G,w(t.name))),N(M,G)};ie(B,M=>{t.children?M(q):M(Z,!1)})}R(I),R(b),X(()=>{T=fe(b,T,{...C(p),class:`${n()??""} ${r()??""} ${a()??""} ${i()??""} ${u()??""} ${s()??""} ${c()??""} ${o()??""}`,"data-testid":"avatar"}),S=fe(I,S,{...C(A),class:`${f()??""} ${g()??""}`,"data-testid":"avatar-fallback"})}),N(e,b),Ne()}zr(["click"]);const[Ki,Al,yf]=Yn({parent:"none",value:"",expanded:!1,onSelectionHandler:()=>{}});var kl=K('<nav data-testid="nav-bar-tileset"><!></nav>'),Rl=K('<aside data-testid="nav-bar"><!></aside>');function Ol(e,t){Oe(t,!0);let n=v(t,"value",15,""),r=v(t,"base",3,"flex flex-col"),a=v(t,"background",3,"preset-filled-surface-100-900"),i=v(t,"width",3,"min-w-[320px] w-full"),u=v(t,"height",3,"h-20"),s=v(t,"padding",3,"p-1"),c=v(t,"classes",3,""),o=v(t,"tilesBase",3,"flex-1 flex"),l=v(t,"tilesFlexDirection",3,""),d=v(t,"tilesJustify",3,"justify-center"),f=v(t,"tilesItems",3,"items-center"),g=v(t,"tilesGap",3,"gap-1"),h=v(t,"tilesClasses",3,"");function m(p){n(p),t.onchange&&t.onchange(p)}Ki({parent:"bar",get value(){return n()},expanded:!1,onSelectionHandler:m});var y=Rl(),w=O(y);{var b=p=>{var T=kl(),_=O(T);ve(_,()=>t.children),R(T),X(()=>Ie(T,`${o()??""} ${l()??""} ${d()??""} ${f()??""} ${g()??""} ${h()??""}`)),N(p,T)};ie(w,p=>{t.children&&p(b)})}R(y),X(()=>Ie(y,`${r()??""} ${a()??""} ${i()??""} ${u()??""} ${s()??""} ${c()??""}`)),N(e,y),Ne()}var Nl=K('<header data-testid="nav-rail-header"><!></header>'),Pl=K('<nav data-testid="nav-rail-tiles"><!></nav>'),Fl=K('<footer data-testid="nav-rail-footer"><!></footer>'),Vl=K('<aside data-testid="nav-rail"><!> <!> <!></aside>');function Ga(e,t){Oe(t,!0);let n=v(t,"value",15,""),r=v(t,"expanded",3,!1),a=v(t,"base",3,"h-full flex flex-col"),i=v(t,"background",3,"preset-filled-surface-100-900"),u=v(t,"padding",3,"p-1"),s=v(t,"width",3,"w-24"),c=v(t,"widthExpanded",3,"w-64"),o=v(t,"height",3,"h-full"),l=v(t,"classes",3,""),d=v(t,"headerBase",3,"flex"),f=v(t,"headerFlexDirection",3,"flex-col"),g=v(t,"headerJustify",3,"justify-center"),h=v(t,"headerItems",3,"items-center"),m=v(t,"headerGap",3,"gap-1"),y=v(t,"headerClasses",3,""),w=v(t,"tilesBase",3,"flex-1 flex"),b=v(t,"tilesFlexDirection",3,"flex-col"),p=v(t,"tilesJustify",3,"justify-center"),T=v(t,"tilesItems",3,"items-center"),_=v(t,"tilesGap",3,"gap-1"),x=v(t,"tilesClasses",3,""),I=v(t,"footerBase",3,"flex"),A=v(t,"footerFlexDirection",3,"flex-col"),S=v(t,"footerJustify",3,"justify-center"),B=v(t,"footerItems",3,"items-center"),q=v(t,"footerGap",3,"gap-1"),Z=v(t,"footerClasses",3,"");function M(V){n(V),t.onchange&&t.onchange(V)}Ki({parent:"rail",get value(){return n()},get expanded(){return r()},onSelectionHandler:M});let G=D(()=>r()?c():s());var ee=Vl(),he=O(ee);{var Ee=V=>{var P=Nl(),J=O(P);ve(J,()=>t.header),R(P),X(()=>Ie(P,`${d()??""} ${f()??""} ${g()??""} ${h()??""} ${m()??""} ${y()??""}`)),N(V,P)};ie(he,V=>{t.header&&V(Ee)})}var be=Y(he,2);{var z=V=>{var P=Pl(),J=O(P);ve(J,()=>t.tiles),R(P),X(()=>Ie(P,`${w()??""} ${b()??""} ${p()??""} ${T()??""} ${_()??""} ${x()??""}`)),N(V,P)};ie(be,V=>{t.tiles&&V(z)})}var H=Y(be,2);{var ne=V=>{var P=Fl(),J=O(P);ve(J,()=>t.footer),R(P),X(()=>Ie(P,`${I()??""} ${A()??""} ${S()??""} ${B()??""} ${q()??""} ${Z()??""}`)),N(V,P)};ie(H,V=>{t.footer&&V(ne)})}R(ee),X(()=>Ie(ee,`${a()??""} ${i()??""} ${o()??""} ${u()??""} ${C(G)??""} ${l()??""}`)),N(e,ee),Ne()}var Ll=K("<div><!></div>"),Ml=K('<div data-testid="nav-tile-label"> </div>'),Dl=K('<div data-testid="nav-tile-label-expanded"> </div>'),Bl=K("<!> <!> <!>",1);function Wl(e,t){Oe(t,!0);let n=v(t,"selected",3,!1),r=v(t,"type",3,"button"),a=v(t,"base",3,"flex items-center"),i=v(t,"width",3,"w-full"),u=v(t,"aspect",3,"aspect-square"),s=v(t,"background",3,""),c=v(t,"hover",3,"hover:preset-filled-surface-50-950"),o=v(t,"active",3,"preset-filled-primary-500"),l=v(t,"padding",3,"p-2"),d=v(t,"gap",3,"gap-1"),f=v(t,"rounded",3,"rounded-container"),g=v(t,"classes",3,"flex-col justify-center"),h=v(t,"expandedPadding",3,"py-3 px-4"),m=v(t,"expandedGap",3,"gap-4"),y=v(t,"expandedClasses",3,""),w=v(t,"labelBase",3,"type-scale-1"),b=v(t,"labelClasses",3,""),p=v(t,"labelExpandedBase",3,""),T=v(t,"labelExpandedClasses",3,"");const _=Al(),x=D(()=>t.href?"a":"button"),I=D(()=>t.href?void 0:"button"),A=D(()=>_.parent==="bar"?"h-full":`${u()}`),S=D(()=>`${C(A)} ${l()} ${d()} ${g()}`),B=D(()=>`${h()} ${m()} ${y()}`),q=D(()=>_.expanded?C(B):C(S)),Z=D(()=>n()||_.value===t.id?o():`${s()} ${c()}`);function M(){if(t.onclick&&!t.id)throw new Error("No ID was provided");t.onclick&&t.id&&t.onclick(t.id),_.onSelectionHandler&&t.id&&_.onSelectionHandler(t.id)}const G=jn(),[ee,he]=G;var Ee=Ue(),be=Me(Ee);Si(be,()=>C(x),!1,(z,H)=>{let ne;X(()=>ne=fe(z,ne,{class:`${a()??""} ${i()??""} ${f()??""} ${C(Z)??""} ${C(q)??""}`,href:`${C(x)}`=="a"?ee(t.href,void 0):t.href,target:t.target,type:C(x)==="button"?r():void 0,title:t.title,role:C(I),onclick:M,tabindex:"0","data-testid":"nav-tile"},void 0,z.namespaceURI===yi,z.nodeName.includes("-")));var V=Bl(),P=Me(V);{var J=ue=>{var _e=Ll(),Mt=O(_e);ve(Mt,()=>t.children),R(_e),N(ue,_e)};ie(P,ue=>{t.children&&ue(J)})}var $=Y(P,2);{var ge=ue=>{var _e=Ml(),Mt=O(_e,!0);R(_e),X(()=>{Ie(_e,`${w()??""} ${b()??""}`),Xe(Mt,t.label)}),N(ue,_e)};ie($,ue=>{t.label&&!_.expanded&&ue(ge)})}var U=Y($,2);{var oe=ue=>{var _e=Dl(),Mt=O(_e,!0);R(_e),X(()=>{Ie(_e,`${p()??""} ${T()??""}`),Xe(Mt,t.labelExpanded)}),N(ue,_e)};ie(U,ue=>{t.labelExpanded&&_.expanded&&ue(oe)})}N(H,V)}),N(e,Ee),Ne()}Object.assign(Ga,{Rail:Ga,Bar:Ol,Tile:Wl});function jl(e){return e.mozInputSource===0&&e.isTrusted?!0:e.detail===0&&!e.pointerType}function Hl(e){return!(e.metaKey||!Ai()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}var ql=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Ul(e,t,n){const r=n?ra(n):null,a=vt(r);return e=e||r instanceof a.HTMLInputElement&&!ql.has(r==null?void 0:r.type)||r instanceof a.HTMLTextAreaElement||r instanceof a.HTMLElement&&r.isContentEditable,!(e&&t==="keyboard"&&n instanceof a.KeyboardEvent&&!Reflect.has(Gl,n.key))}var yt=null,Tr=new Set,Yt=new Map,pt=!1,Sr=!1,Gl={Tab:!0,Escape:!0};function Xn(e,t){for(let n of Tr)n(e,t)}function In(e){pt=!0,Hl(e)&&(yt="keyboard",Xn("keyboard",e))}function ke(e){yt="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(pt=!0,Xn("pointer",e))}function Yi(e){jl(e)&&(pt=!0,yt="virtual")}function Xi(e){const t=ra(e);t===vt(t)||t===Pt(t)||(!pt&&!Sr&&(yt="virtual",Xn("virtual",e)),pt=!1,Sr=!1)}function Qi(){pt=!1,Sr=!0}function zl(e){if(typeof window>"u"||Yt.get(vt(e)))return;const t=vt(e),n=Pt(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){yt="virtual",Xn("virtual",null),pt=!0,r.apply(this,arguments)},n.addEventListener("keydown",In,!0),n.addEventListener("keyup",In,!0),n.addEventListener("click",Yi,!0),t.addEventListener("focus",Xi,!0),t.addEventListener("blur",Qi,!1),typeof t.PointerEvent<"u"?(n.addEventListener("pointerdown",ke,!0),n.addEventListener("pointermove",ke,!0),n.addEventListener("pointerup",ke,!0)):(n.addEventListener("mousedown",ke,!0),n.addEventListener("mousemove",ke,!0),n.addEventListener("mouseup",ke,!0)),t.addEventListener("beforeunload",()=>{Jl(e)},{once:!0}),Yt.set(t,{focus:r})}var Jl=(e,t)=>{const n=vt(e),r=Pt(e);Yt.has(n)&&(n.HTMLElement.prototype.focus=Yt.get(n).focus,r.removeEventListener("keydown",In,!0),r.removeEventListener("keyup",In,!0),r.removeEventListener("click",Yi,!0),n.removeEventListener("focus",Xi,!0),n.removeEventListener("blur",Qi,!1),typeof n.PointerEvent<"u"?(r.removeEventListener("pointerdown",ke,!0),r.removeEventListener("pointermove",ke,!0),r.removeEventListener("pointerup",ke,!0)):(r.removeEventListener("mousedown",ke,!0),r.removeEventListener("mousemove",ke,!0),r.removeEventListener("mouseup",ke,!0)),Yt.delete(n))};function xr(){return yt==="keyboard"}function Kl(e={}){const{isTextInput:t,autoFocus:n,onChange:r,root:a}=e;zl(a),r==null||r({isFocusVisible:n||xr(),modality:yt});const i=(u,s)=>{Ul(!!t,u,s)&&(r==null||r({isFocusVisible:xr(),modality:u}))};return Tr.add(i),()=>{Tr.delete(i)}}var Cr,rt=new Map,Yl=e=>e.getBoundingClientRect();function Zi(e,t){const{scope:n="rect",getRect:r=Yl,onChange:a}=t,i=Xl({scope:n,getRect:r}),u=rt.get(e);return u?(u.callbacks.push(a),a(r(e))):(rt.set(e,{rect:{},callbacks:[a]}),rt.size===1&&(Cr=requestAnimationFrame(i))),function(){const c=rt.get(e);if(!c)return;const o=c.callbacks.indexOf(a);o>-1&&c.callbacks.splice(o,1),c.callbacks.length===0&&(rt.delete(e),rt.size===0&&cancelAnimationFrame(Cr))}}function Xl(e){const{scope:t,getRect:n}=e,r=Zl(t);return function a(){const i=[];rt.forEach((u,s)=>{const c=n(s);r(u.rect,c)||(u.rect=c,i.push(u))}),i.forEach(u=>{u.callbacks.forEach(s=>s(u.rect))}),Cr=requestAnimationFrame(a)}}var $i=(e,t)=>e.width===t.width&&e.height===t.height,es=(e,t)=>e.top===t.top&&e.left===t.left,Ql=(e,t)=>$i(e,t)&&es(e,t);function Zl(e){return e==="size"?$i:e==="position"?es:Ql}var ts=e=>e.ownerDocument.defaultView||window;function $l(e,t){const{type:n="HTMLInputElement",property:r="value"}=t,a=ts(e)[n].prototype;return Object.getOwnPropertyDescriptor(a,r)??{}}function eu(e,t){var r;(r=$l(e,{type:"HTMLInputElement",property:"checked"}).set)==null||r.call(e,t),t?e.setAttribute("checked",""):e.removeAttribute("checked")}function tu(e,t){const{checked:n,bubbles:r=!0}=t;if(!e)return;const a=ts(e);e instanceof a.HTMLInputElement&&(eu(e,n),e.dispatchEvent(new a.Event("click",{bubbles:r})))}function nu(e){return ru(e)?e.form:e.closest("form")}function ru(e){return e.matches("textarea, input, select, button")}function au(e,t){if(!e)return;const n=nu(e);return n==null||n.addEventListener("reset",t,{passive:!0}),()=>{n==null||n.removeEventListener("reset",t)}}function iu(e,t){const n=e==null?void 0:e.closest("fieldset");if(!n)return;t(n.disabled);const r=n.ownerDocument.defaultView||window,a=new r.MutationObserver(()=>t(n.disabled));return a.observe(n,{attributes:!0,attributeFilter:["disabled"]}),()=>a.disconnect()}function su(e,t){if(!e)return;const{onFieldsetDisabledChange:n,onFormReset:r}=t,a=[au(e,r),iu(e,n)];return()=>{a.forEach(i=>i==null?void 0:i())}}var ou=ft("radio-group").parts("root","label","item","itemText","itemControl","indicator"),Et=ou.build(),W=Un({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`radio-group:${e.id}`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`radio-group:${e.id}:label`},getItemId:(e,t)=>{var n,r;return((r=(n=e.ids)==null?void 0:n.item)==null?void 0:r.call(n,t))??`radio-group:${e.id}:radio:${t}`},getItemHiddenInputId:(e,t)=>{var n,r;return((r=(n=e.ids)==null?void 0:n.itemHiddenInput)==null?void 0:r.call(n,t))??`radio-group:${e.id}:radio:input:${t}`},getItemControlId:(e,t)=>{var n,r;return((r=(n=e.ids)==null?void 0:n.itemControl)==null?void 0:r.call(n,t))??`radio-group:${e.id}:radio:control:${t}`},getItemLabelId:(e,t)=>{var n,r;return((r=(n=e.ids)==null?void 0:n.itemLabel)==null?void 0:r.call(n,t))??`radio-group:${e.id}:radio:label:${t}`},getIndicatorId:e=>{var t;return((t=e.ids)==null?void 0:t.indicator)??`radio-group:${e.id}:indicator`},getRootEl:e=>W.getById(e,W.getRootId(e)),getItemHiddenInputEl:(e,t)=>W.getById(e,W.getItemHiddenInputId(e,t)),getIndicatorEl:e=>W.getById(e,W.getIndicatorId(e)),getFirstEnabledInputEl:e=>{var t;return(t=W.getRootEl(e))==null?void 0:t.querySelector("input:not(:disabled)")},getFirstEnabledAndCheckedInputEl:e=>{var t;return(t=W.getRootEl(e))==null?void 0:t.querySelector("input:not(:disabled):checked")},getInputEls:e=>{const n=`input[type=radio][data-ownedby='${CSS.escape(W.getRootId(e))}']:not([disabled])`;return sa(W.getRootEl(e),n)},getActiveRadioEl:e=>{if(e.value)return W.getById(e,W.getItemId(e,e.value))},getOffsetRect:e=>({left:(e==null?void 0:e.offsetLeft)??0,top:(e==null?void 0:e.offsetTop)??0,width:(e==null?void 0:e.offsetWidth)??0,height:(e==null?void 0:e.offsetHeight)??0}),getRectById:(e,t)=>{const n=W.getById(e,W.getItemId(e,t));if(n)return W.resolveRect(W.getOffsetRect(n))},resolveRect:e=>({width:`${e.width}px`,height:`${e.height}px`,left:`${e.left}px`,top:`${e.top}px`})});function cu(e,t,n){const r=e.context.isDisabled,a=e.context.readOnly;function i(c){return{invalid:!!c.invalid,disabled:!!c.disabled||r,checked:e.context.value===c.value,focused:e.context.focusedValue===c.value,hovered:e.context.hoveredValue===c.value,active:e.context.activeValue===c.value}}function u(c){const o=i(c);return{"data-focus":re(o.focused),"data-focus-visible":re(o.focused&&e.context.focusVisible),"data-disabled":re(o.disabled),"data-readonly":re(a),"data-state":o.checked?"checked":"unchecked","data-hover":re(o.hovered),"data-invalid":re(o.invalid),"data-orientation":e.context.orientation,"data-ssr":re(e.context.ssr)}}const s=()=>{const c=W.getFirstEnabledAndCheckedInputEl(e.context);if(c){c.focus();return}const o=W.getFirstEnabledInputEl(e.context);o==null||o.focus()};return{focus:s,value:e.context.value,setValue(c){t({type:"SET_VALUE",value:c,isTrusted:!1})},clearValue(){t({type:"SET_VALUE",value:null,isTrusted:!1})},getRootProps(){return n.element({...Et.root.attrs,role:"radiogroup",id:W.getRootId(e.context),"aria-labelledby":W.getLabelId(e.context),"data-orientation":e.context.orientation,"data-disabled":re(r),"aria-orientation":e.context.orientation,dir:e.context.dir,style:{position:"relative"}})},getLabelProps(){return n.element({...Et.label.attrs,dir:e.context.dir,"data-orientation":e.context.orientation,"data-disabled":re(r),id:W.getLabelId(e.context),onClick:s})},getItemState:i,getItemProps(c){const o=i(c);return n.label({...Et.item.attrs,dir:e.context.dir,id:W.getItemId(e.context,c.value),htmlFor:W.getItemHiddenInputId(e.context,c.value),...u(c),onPointerMove(){o.disabled||o.hovered||t({type:"SET_HOVERED",value:c.value,hovered:!0})},onPointerLeave(){o.disabled||t({type:"SET_HOVERED",value:null})},onPointerDown(l){o.disabled||(o.focused&&l.pointerType==="mouse"&&l.preventDefault(),t({type:"SET_ACTIVE",value:c.value,active:!0}))},onPointerUp(){o.disabled||t({type:"SET_ACTIVE",value:null})}})},getItemTextProps(c){return n.element({...Et.itemText.attrs,dir:e.context.dir,id:W.getItemLabelId(e.context,c.value),...u(c)})},getItemControlProps(c){const o=i(c);return n.element({...Et.itemControl.attrs,dir:e.context.dir,id:W.getItemControlId(e.context,c.value),"data-active":re(o.active),"aria-hidden":!0,...u(c)})},getItemHiddenInputProps(c){const o=i(c);return n.input({"data-ownedby":W.getRootId(e.context),id:W.getItemHiddenInputId(e.context,c.value),type:"radio",name:e.context.name||e.context.id,form:e.context.form,value:c.value,onClick(l){if(a){l.preventDefault();return}l.currentTarget.checked&&t({type:"SET_VALUE",value:c.value,isTrusted:!0})},onBlur(){t({type:"SET_FOCUSED",value:null,focused:!1,focusVisible:!1})},onFocus(){const l=xr();t({type:"SET_FOCUSED",value:c.value,focused:!0,focusVisible:l})},onKeyDown(l){l.defaultPrevented||l.key===" "&&t({type:"SET_ACTIVE",value:c.value,active:!0})},onKeyUp(l){l.defaultPrevented||l.key===" "&&t({type:"SET_ACTIVE",value:null})},disabled:o.disabled,defaultChecked:o.checked,style:oc})},getIndicatorProps(){var c,o,l,d;return n.element({id:W.getIndicatorId(e.context),...Et.indicator.attrs,dir:e.context.dir,hidden:e.context.value==null,"data-disabled":re(r),"data-orientation":e.context.orientation,style:{"--transition-property":"left, top, width, height","--left":(c=e.context.indicatorRect)==null?void 0:c.left,"--top":(o=e.context.indicatorRect)==null?void 0:o.top,"--width":(l=e.context.indicatorRect)==null?void 0:l.width,"--height":(d=e.context.indicatorRect)==null?void 0:d.height,position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:e.context.canIndicatorTransition?"var(--transition-duration, 150ms)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",[e.context.orientation==="horizontal"?"left":"top"]:e.context.orientation==="horizontal"?"var(--left)":"var(--top)"}})}}}var{not:lu}=la;function uu(e){const t=et(e);return Gn({id:"radio",initial:"idle",context:{value:null,activeValue:null,focusedValue:null,hoveredValue:null,disabled:!1,orientation:"vertical",...t,indicatorRect:{},canIndicatorTransition:!1,fieldsetDisabled:!1,focusVisible:!1,ssr:!0},computed:{isDisabled:n=>!!n.disabled||n.fieldsetDisabled},entry:["syncIndicatorRect","syncSsr"],exit:["cleanupObserver"],activities:["trackFormControlState","trackFocusVisible"],watch:{value:["setIndicatorTransition","syncIndicatorRect","syncInputElements"]},on:{SET_VALUE:[{guard:lu("isTrusted"),actions:["setValue","dispatchChangeEvent"]},{actions:["setValue"]}],SET_HOVERED:{actions:"setHovered"},SET_ACTIVE:{actions:"setActive"},SET_FOCUSED:{actions:"setFocused"}},states:{idle:{}}},{guards:{isTrusted:(n,r)=>!!r.isTrusted},activities:{trackFormControlState(n,r,{send:a,initialContext:i}){return su(W.getRootEl(n),{onFieldsetDisabledChange(u){n.fieldsetDisabled=u},onFormReset(){a({type:"SET_VALUE",value:i.value})}})},trackFocusVisible(n){return Kl({root:W.getRootNode(n)})}},actions:{setValue(n,r){fu.value(n,r.value)},setHovered(n,r){n.hoveredValue=r.value},setActive(n,r){n.activeValue=r.value},setFocused(n,r){n.focusedValue=r.value,n.focusVisible=r.focusVisible},syncInputElements(n){W.getInputEls(n).forEach(a=>{a.checked=a.value===n.value})},setIndicatorTransition(n){n.canIndicatorTransition=xe(n.value)},cleanupObserver(n){var r;(r=n.indicatorCleanup)==null||r.call(n)},syncSsr(n){n.ssr=!1},syncIndicatorRect(n){var i;if((i=n.indicatorCleanup)==null||i.call(n),!W.getIndicatorEl(n))return;const r=n.value,a=W.getActiveRadioEl(n);if(r==null||!a){n.indicatorRect={};return}n.indicatorCleanup=Zi(a,{getRect(u){return W.getOffsetRect(u)},onChange(u){n.indicatorRect=W.resolveRect(u),yr(()=>{n.canIndicatorTransition=!1})}})},dispatchChangeEvent(n){W.getInputEls(n).forEach(a=>{const i=a.value===n.value;i!==a.checked&&tu(a,{checked:i})})}}})}var du={change:e=>{var t;e.value!=null&&((t=e.onValueChange)==null||t.call(e,{value:e.value}))}},fu={value:(e,t)=>{mt(e.value,t)||(e.value=t,du.change(e))}};tt()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value"]);tt()(["value","disabled","invalid"]);const[hu,gu,wf]=Yn({api:{},indicatorText:""});var vu=K("<div><div></div> <!></div>");function mu(e,t){Oe(t,!0);let n=v(t,"value",15,""),r=v(t,"orientation",3,"horizontal"),a=v(t,"base",3,"inline-flex items-stretch overflow-hidden"),i=v(t,"background",3,"preset-outlined-surface-200-800"),u=v(t,"border",3,"p-2"),s=v(t,"gap",3,"gap-2"),c=v(t,"padding",3,""),o=v(t,"rounded",3,"rounded-container"),l=v(t,"width",3,""),d=v(t,"classes",3,""),f=v(t,"orientVertical",3,"flex-col"),g=v(t,"orientHorizontal",3,"flex-row"),h=v(t,"stateDisabled",3,"disabled"),m=v(t,"stateReadOnly",3,"pointer-events-none"),y=v(t,"indicatorBase",3,"top-[var(--top)] left-[var(--left)] w-[var(--width)] h-[var(--height)]"),w=v(t,"indicatorBg",3,"preset-filled"),b=v(t,"indicatorText",3,"text-surface-contrast-950 dark:text-surface-contrast-50"),p=v(t,"indicatorRounded",3,"rounded"),T=v(t,"indicatorClasses",3,""),_=v(t,"labelledby",3,""),x=bt(t,["$$slots","$$events","$$legacy","value","orientation","base","background","border","gap","padding","rounded","width","classes","orientVertical","orientHorizontal","stateDisabled","stateReadOnly","indicatorBase","indicatorBg","indicatorText","indicatorRounded","indicatorClasses","labelledby","children"]);const[I,A]=Jn(uu({id:Kn(),onValueChange(H){n(H.value)},orientation:r()}),{context:{...x,get value(){return n()}}}),S=D(()=>cu(I,A,zn));hu({get api(){return C(S)},get indicatorText(){return b()}});const B=D(()=>I.context.orientation==="vertical"?f():g()),q=D(()=>I.context.disabled?h():""),Z=D(()=>I.context.readOnly?m():"");var M=vu();const G=D(()=>C(S).getRootProps());let ee;var he=O(M);const Ee=D(()=>C(S).getIndicatorProps());let be;var z=Y(he,2);ve(z,()=>t.children??Se),R(M),X(()=>{ee=fe(M,ee,{...C(G),class:`${a()??""} ${C(B)??""} ${i()??""} ${u()??""} ${c()??""} ${s()??""} ${o()??""} ${l()??""} ${C(q)??""} ${C(Z)??""} ${d()??""}`,"aria-labelledby":_(),"data-testid":"segment"}),be=fe(he,be,{...C(Ee),class:`${y()??""} ${w()??""} ${p()??""} ${T()??""}`,"data-testid":"segment-indicator"})}),N(e,M),Ne()}var pu=K("<label><span><!></span> <input></label>");function bu(e,t){Oe(t,!0);let n=v(t,"base",3,"btn cursor-pointer z-[1]"),r=v(t,"classes",3,""),a=v(t,"stateDisabled",3,"disabled"),i=v(t,"stateFocused",3,"focused"),u=v(t,"labelBase",3,"pointer-events-none transition-colors duration-100"),s=v(t,"labelClasses",3,""),c=bt(t,["$$slots","$$events","$$legacy","base","classes","stateDisabled","stateFocused","labelBase","labelClasses","children"]);const o=gu(),l=D(()=>o.api.getItemState(c)),d=D(()=>C(l).disabled?a():""),f=D(()=>C(l).checked?o.indicatorText:""),g=D(()=>C(l).focused?i():"");var h=pu();const m=D(()=>o.api.getItemProps(c));let y;var w=O(h);const b=D(()=>o.api.getItemTextProps(c));let p;var T=O(w);ve(T,()=>t.children??Se),R(w);var _=Y(w,2);mn(_);const x=D(()=>o.api.getItemHiddenInputProps(c));let I;R(h),X(()=>{y=fe(h,y,{...C(m),class:`${n()??""} ${C(d)??""} ${C(g)??""} ${r()??""}`,"data-testid":"segment-item"}),p=fe(w,p,{...C(b),class:`${u()??""} ${C(f)??""} ${s()??""}`,"data-testid":"segment-item-label"}),I=fe(_,I,{...C(x),"data-testid":"segment-item-input"})}),N(e,h),Ne()}Object.assign(mu,{Item:bu});var yu=ft("tabs").parts("root","list","trigger","content","indicator"),jt=yu.build(),F=Un({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`tabs:${e.id}`},getListId:e=>{var t;return((t=e.ids)==null?void 0:t.list)??`tabs:${e.id}:list`},getContentId:(e,t)=>{var n;return((n=e.ids)==null?void 0:n.content)??`tabs:${e.id}:content-${t}`},getTriggerId:(e,t)=>{var n;return((n=e.ids)==null?void 0:n.trigger)??`tabs:${e.id}:trigger-${t}`},getIndicatorId:e=>{var t;return((t=e.ids)==null?void 0:t.indicator)??`tabs:${e.id}:indicator`},getListEl:e=>F.getById(e,F.getListId(e)),getContentEl:(e,t)=>F.getById(e,F.getContentId(e,t)),getTriggerEl:(e,t)=>F.getById(e,F.getTriggerId(e,t)),getIndicatorEl:e=>F.getById(e,F.getIndicatorId(e)),getElements:e=>{const n=`[role=tab][data-ownedby='${CSS.escape(F.getListId(e))}']:not([disabled])`;return sa(F.getListEl(e),n)},getFirstTriggerEl:e=>Di(F.getElements(e)),getLastTriggerEl:e=>Bi(F.getElements(e)),getNextTriggerEl:(e,t)=>Pi(F.getElements(e),F.getTriggerId(e,t),e.loopFocus),getPrevTriggerEl:(e,t)=>Fi(F.getElements(e),F.getTriggerId(e,t),e.loopFocus),getSelectedContentEl:e=>{if(e.value)return F.getContentEl(e,e.value)},getSelectedTriggerEl:e=>{if(e.value)return F.getTriggerEl(e,e.value)},getOffsetRect:e=>({left:(e==null?void 0:e.offsetLeft)??0,top:(e==null?void 0:e.offsetTop)??0,width:(e==null?void 0:e.offsetWidth)??0,height:(e==null?void 0:e.offsetHeight)??0}),getRectById:(e,t)=>{const n=Oi(F.getElements(e),F.getTriggerId(e,t));return F.resolveRect(F.getOffsetRect(n))},resolveRect:e=>({width:`${e.width}px`,height:`${e.height}px`,left:`${e.left}px`,top:`${e.top}px`})});function wu(e,t,n){const r=e.context.translations,a=e.matches("focused"),i=e.context.orientation==="vertical",u=e.context.orientation==="horizontal",s=e.context.composite,c=e.context.indicatorState;function o(l){return{selected:e.context.value===l.value,focused:e.context.focusedValue===l.value,disabled:!!l.disabled}}return{value:e.context.value,focusedValue:e.context.focusedValue,setValue(l){t({type:"SET_VALUE",value:l})},clearValue(){t({type:"CLEAR_VALUE"})},setIndicatorRect(l){const d=F.getTriggerId(e.context,l);t({type:"SET_INDICATOR_RECT",id:d})},syncTabIndex(){t("SYNC_TAB_INDEX")},selectNext(l){t({type:"TAB_FOCUS",value:l,src:"selectNext"}),t({type:"ARROW_NEXT",src:"selectNext"})},selectPrev(l){t({type:"TAB_FOCUS",value:l,src:"selectPrev"}),t({type:"ARROW_PREV",src:"selectPrev"})},focus(){var l;(l=F.getSelectedTriggerEl(e.context))==null||l.focus()},getRootProps(){return n.element({...jt.root.attrs,id:F.getRootId(e.context),"data-orientation":e.context.orientation,"data-focus":re(a),dir:e.context.dir})},getListProps(){return n.element({...jt.list.attrs,id:F.getListId(e.context),role:"tablist",dir:e.context.dir,"data-focus":re(a),"aria-orientation":e.context.orientation,"data-orientation":e.context.orientation,"aria-label":r==null?void 0:r.listLabel,onKeyDown(l){if(l.defaultPrevented||!Go(l)||zo(l))return;const d={ArrowDown(){u||t({type:"ARROW_NEXT",key:"ArrowDown"})},ArrowUp(){u||t({type:"ARROW_PREV",key:"ArrowUp"})},ArrowLeft(){i||t({type:"ARROW_PREV",key:"ArrowLeft"})},ArrowRight(){i||t({type:"ARROW_NEXT",key:"ArrowRight"})},Home(){t("HOME")},End(){t("END")},Enter(){t({type:"ENTER"})}};let f=Mi(l,e.context);const g=d[f];g&&(l.preventDefault(),g(l))}})},getTriggerState:o,getTriggerProps(l){const{value:d,disabled:f}=l,g=o(l);return n.button({...jt.trigger.attrs,role:"tab",type:"button",disabled:f,dir:e.context.dir,"data-orientation":e.context.orientation,"data-disabled":re(f),"aria-disabled":f,"data-value":d,"aria-selected":g.selected,"data-selected":re(g.selected),"data-focus":re(g.focused),"aria-controls":g.selected?F.getContentId(e.context,d):void 0,"data-ownedby":F.getListId(e.context),"data-ssr":re(e.context.ssr),id:F.getTriggerId(e.context,d),tabIndex:g.selected&&s?0:-1,onFocus(){t({type:"TAB_FOCUS",value:d})},onBlur(h){const m=h.relatedTarget;(m==null?void 0:m.getAttribute("role"))!=="tab"&&t({type:"TAB_BLUR"})},onClick(h){h.defaultPrevented||f||(ki()&&h.currentTarget.focus(),t({type:"TAB_CLICK",value:d}))}})},getContentProps(l){const{value:d}=l,f=e.context.value===d;return n.element({...jt.content.attrs,dir:e.context.dir,id:F.getContentId(e.context,d),tabIndex:s?0:-1,"aria-labelledby":F.getTriggerId(e.context,d),role:"tabpanel","data-ownedby":F.getListId(e.context),"data-selected":re(f),"data-orientation":e.context.orientation,hidden:!f})},getIndicatorProps(){var l,d,f,g;return n.element({id:F.getIndicatorId(e.context),...jt.indicator.attrs,dir:e.context.dir,"data-orientation":e.context.orientation,style:{"--transition-property":"left, right, top, bottom, width, height","--left":(l=c.rect)==null?void 0:l.left,"--top":(d=c.rect)==null?void 0:d.top,"--width":(f=c.rect)==null?void 0:f.width,"--height":(g=c.rect)==null?void 0:g.height,position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:c.transition?"var(--transition-duration, 150ms)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",[u?"left":"top"]:u?"var(--left)":"var(--top)"}})}}}var{not:_u}=la;function Eu(e){const t=et(e);return Gn({initial:"idle",context:{dir:"ltr",orientation:"horizontal",activationMode:"automatic",value:null,loopFocus:!0,composite:!0,...t,focusedValue:t.value??null,ssr:!0,indicatorState:{rendered:!1,transition:!1,rect:{left:"0px",top:"0px",width:"0px",height:"0px"}}},watch:{value:["allowIndicatorTransition","syncIndicatorRect","syncTabIndex","clickIfLink"],dir:["syncIndicatorRect"],orientation:["syncIndicatorRect"]},on:{SET_VALUE:{actions:"setValue"},CLEAR_VALUE:{actions:"clearValue"},SET_INDICATOR_RECT:{actions:"setIndicatorRect"},SYNC_TAB_INDEX:{actions:"syncTabIndex"}},created:["syncFocusedValue"],entry:["checkRenderedElements","syncIndicatorRect","syncTabIndex","syncSsr"],exit:["cleanupObserver"],states:{idle:{on:{TAB_FOCUS:{target:"focused",actions:"setFocusedValue"},TAB_CLICK:{target:"focused",actions:["setFocusedValue","setValue"]}}},focused:{on:{TAB_CLICK:{target:"focused",actions:["setFocusedValue","setValue"]},ARROW_PREV:[{guard:"selectOnFocus",actions:["focusPrevTab","selectFocusedTab"]},{actions:"focusPrevTab"}],ARROW_NEXT:[{guard:"selectOnFocus",actions:["focusNextTab","selectFocusedTab"]},{actions:"focusNextTab"}],HOME:[{guard:"selectOnFocus",actions:["focusFirstTab","selectFocusedTab"]},{actions:"focusFirstTab"}],END:[{guard:"selectOnFocus",actions:["focusLastTab","selectFocusedTab"]},{actions:"focusLastTab"}],ENTER:{guard:_u("selectOnFocus"),actions:"selectFocusedTab"},TAB_FOCUS:{actions:["setFocusedValue"]},TAB_BLUR:{target:"idle",actions:"clearFocusedValue"}}}}},{guards:{selectOnFocus:n=>n.activationMode==="automatic"},actions:{syncFocusedValue(n){n.value!=null&&n.focusedValue==null&&(n.focusedValue=n.value)},selectFocusedTab(n){We(()=>{const a=n.deselectable&&n.value===n.focusedValue?null:n.focusedValue;nt.value(n,a)})},setFocusedValue(n,r){r.value!=null&&nt.focusedValue(n,r.value)},clearFocusedValue(n){nt.focusedValue(n,null)},setValue(n,r){const i=n.deselectable&&n.value===n.focusedValue?null:r.value;nt.value(n,i)},clearValue(n){nt.value(n,null)},focusFirstTab(n){We(()=>{var r;(r=F.getFirstTriggerEl(n))==null||r.focus()})},focusLastTab(n){We(()=>{var r;(r=F.getLastTriggerEl(n))==null||r.focus()})},focusNextTab(n){if(!n.focusedValue)return;const r=F.getNextTriggerEl(n,n.focusedValue);We(()=>{n.composite?r==null||r.focus():(r==null?void 0:r.dataset.value)!=null&&nt.focusedValue(n,r.dataset.value)})},focusPrevTab(n){if(!n.focusedValue)return;const r=F.getPrevTriggerEl(n,n.focusedValue);We(()=>{n.composite?r==null||r.focus():(r==null?void 0:r.dataset.value)!=null&&nt.focusedValue(n,r.dataset.value)})},checkRenderedElements(n){n.indicatorState.rendered=!!F.getIndicatorEl(n)},syncTabIndex(n){We(()=>{const r=F.getSelectedContentEl(n);if(!r)return;Li(r).length>0?r.removeAttribute("tabindex"):r.setAttribute("tabindex","0")})},cleanupObserver(n){var r;(r=n.indicatorCleanup)==null||r.call(n)},allowIndicatorTransition(n){n.indicatorState.transition=!0},setIndicatorRect(n,r){const a=r.id??n.value;!n.indicatorState.rendered||!a||!F.getTriggerEl(n,a)||(n.indicatorState.rect=F.getRectById(n,a),yr(()=>{n.indicatorState.transition=!1}))},syncSsr(n){n.ssr=!1},syncIndicatorRect(n){var i;(i=n.indicatorCleanup)==null||i.call(n);const r=n.value;if(!n.indicatorState.rendered||!r)return;const a=F.getSelectedTriggerEl(n);a&&(n.indicatorCleanup=Zi(a,{getRect(u){return F.getOffsetRect(u)},onChange(u){n.indicatorState.rect=F.resolveRect(u),yr(()=>{n.indicatorState.transition=!1})}}))},clickIfLink(n){fc(F.getSelectedTriggerEl(n))}}})}var za={change:e=>{var t;e.value!=null&&((t=e.onValueChange)==null||t.call(e,{value:e.value}))},focusChange:e=>{var t;e.focusedValue!=null&&((t=e.onFocusChange)==null||t.call(e,{focusedValue:e.focusedValue}))}},nt={value:(e,t)=>{mt(t,e.value)||(e.value=t,za.change(e))},focusedValue:(e,t)=>{mt(t,e.focusedValue)||(e.focusedValue=t,za.focusChange(e))}};tt()(["activationMode","composite","dir","getRootNode","id","ids","loopFocus","onFocusChange","onValueChange","orientation","translations","deselectable","value"]);tt()(["disabled","value"]);tt()(["value"]);const[Tu,ns,_f]=Yn({fluid:!1,api:{}});var Su=K('<div><div><!></div> <div data-testid="tabs-content"><!></div></div>');function xu(e,t){Oe(t,!0);let n=v(t,"value",15,""),r=v(t,"fluid",3,!1),a=v(t,"base",3,"w-full"),i=v(t,"classes",3,""),u=v(t,"listBase",3,"flex"),s=v(t,"listJustify",3,"justify-start"),c=v(t,"listBorder",3,"border-b-[1px] border-surface-200-800"),o=v(t,"listMargin",3,"mb-4"),l=v(t,"listGap",3,"gap-2"),d=v(t,"listClasses",3,""),f=v(t,"contentBase",3,""),g=v(t,"contentClasses",3,""),h=bt(t,["$$slots","$$events","$$legacy","value","fluid","base","classes","listBase","listJustify","listBorder","listMargin","listGap","listClasses","contentBase","contentClasses","list","content"]);const[m,y]=Jn(Eu({id:Kn(),onValueChange(q){n(q.value)}}),{context:{...h,get value(){return n()}}}),w=D(()=>wu(m,y,zn));Tu({get api(){return C(w)},get fluid(){return r()}});var b=Su();const p=D(()=>C(w).getRootProps());let T;var _=O(b);const x=D(()=>C(w).getListProps());let I;var A=O(_);ve(A,()=>t.list??Se),R(_);var S=Y(_,2),B=O(S);ve(B,()=>t.content??Se),R(S),R(b),X(()=>{T=fe(b,T,{...C(p),class:`${a()??""} ${i()??""}`,"data-testid":"tabs"}),I=fe(_,I,{...C(x),class:`${u()??""} ${s()??""} ${c()??""} ${o()??""} ${l()??""} ${d()??""}`,"data-testid":"tabs-list"}),Ie(S,`${f()??""} ${g()??""}`)}),N(e,b),Ne()}var Cu=K("<span><!></span>"),Iu=K('<button><div data-testid="tabs-control-label"><!> <span><!></span></div></button>');function Au(e,t){Oe(t,!0);let n=v(t,"base",3,"border-b-[1px] border-transparent"),r=v(t,"padding",3,"pb-2"),a=v(t,"translateX",3,"translate-y-[1px]"),i=v(t,"classes",3,""),u=v(t,"labelBase",3,"btn hover:preset-tonal-primary"),s=v(t,"labelClasses",3,""),c=v(t,"stateInactive",3,"[&:not(:hover)]:opacity-50"),o=v(t,"stateActive",3,"border-surface-950-50 opacity-100"),l=v(t,"stateLabelInactive",3,""),d=v(t,"stateLabelActive",3,""),f=bt(t,["$$slots","$$events","$$legacy","base","padding","translateX","classes","labelBase","labelClasses","stateInactive","stateActive","stateLabelInactive","stateLabelActive","lead","children"]);const g=ns(),h=D(()=>g.api.getTriggerState(f)),m=D(()=>C(h).selected?o():c()),y=D(()=>C(h).selected?d():l()),w=D(()=>g.fluid?"100%":""),b=jn(),[p,T]=b;var _=Iu();const x=D(()=>T({...g.api.getTriggerProps(f),class:`${n()} ${r()} ${a()} ${C(m)} ${i()}`,"data-testid":"tabs-control"},[{attribute_name:"formaction"}]));let I;var A=O(_),S=O(A);{var B=M=>{var G=Cu(),ee=O(G);ve(ee,()=>t.lead),R(G),N(M,G)};ie(S,M=>{t.lead&&M(B)})}var q=Y(S,2),Z=O(q);ve(Z,()=>t.children??Se),R(q),R(A),R(_),X(()=>{I=fe(_,I,{...C(x)}),vr(_,"width",C(w)),Ie(A,`${u()??""} ${C(y)??""} ${s()??""}`),vr(A,"width",C(w))}),N(e,_),Ne()}var ku=K("<div><!></div>");function Ru(e,t){Oe(t,!0);let n=v(t,"base",3,""),r=v(t,"classes",3,""),a=bt(t,["$$slots","$$events","$$legacy","base","classes","children"]);const i=ns();var u=ku();const s=D(()=>i.api.getContentProps(a));let c;var o=O(u);ve(o,()=>t.children??Se),R(u),X(()=>c=fe(u,c,{...C(s),class:`${n()??""} ${r()??""}`,"data-testid":"tabs-panel"})),N(e,u),Ne()}Object.assign(xu,{Control:Au,Panel:Ru});zr(["click"]);function Ou(e){const t=JSON.parse(e);return t.data&&(t.data=uo(t.data,fo.decoders)),t}function sr(e){return HTMLElement.prototype.cloneNode.call(e)}function Tt(e,t=()=>{}){const n=async({action:a,result:i,reset:u=!0,invalidateAll:s=!0})=>{i.type==="success"&&(u&&HTMLFormElement.prototype.reset.call(e),s&&await ho()),(location.origin+location.pathname===a.origin+a.pathname||i.type==="redirect"||i.type==="error")&&go(i)};async function r(a){var m,y,w,b,p;if(((m=a.submitter)!=null&&m.hasAttribute("formmethod")?a.submitter.formMethod:sr(e).method)!=="post")return;a.preventDefault();const u=new URL((y=a.submitter)!=null&&y.hasAttribute("formaction")?a.submitter.formAction:sr(e).action),s=(w=a.submitter)!=null&&w.hasAttribute("formenctype")?a.submitter.formEnctype:sr(e).enctype,c=new FormData(e),o=(b=a.submitter)==null?void 0:b.getAttribute("name");o&&c.append(o,((p=a.submitter)==null?void 0:p.getAttribute("value"))??"");const l=new AbortController;let d=!1;const g=await t({action:u,cancel:()=>d=!0,controller:l,formData:c,formElement:e,submitter:a.submitter})??n;if(d)return;let h;try{const T=new Headers({accept:"application/json","x-sveltekit-action":"true"});s!=="multipart/form-data"&&T.set("Content-Type",/^(:?application\/x-www-form-urlencoded|text\/plain)$/.test(s)?s:"application/x-www-form-urlencoded");const _=s==="multipart/form-data"?c:new URLSearchParams(c),x=await fetch(u,{method:"POST",headers:T,cache:"no-store",body:_,signal:l.signal});h=Ou(await x.text()),h.type==="error"&&(h.status=x.status)}catch(T){if((T==null?void 0:T.name)==="AbortError")return;h={type:"error",error:T}}g({action:u,formData:c,formElement:e,update:T=>n({action:u,result:h,reset:T==null?void 0:T.reset,invalidateAll:T==null?void 0:T.invalidateAll}),result:h})}return HTMLFormElement.prototype.addEventListener.call(e,"submit",r),{destroy(){HTMLFormElement.prototype.removeEventListener.call(e,"submit",r)}}}var te={},Nu=Object.create,rs=Object.defineProperty,Pu=Object.getOwnPropertyDescriptor,Fu=Object.getOwnPropertyNames,Vu=Object.getPrototypeOf,Lu=Object.prototype.hasOwnProperty,ua=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')}),Mu=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Du=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Fu(t))!Lu.call(e,a)&&a!==n&&rs(e,a,{get:()=>t[a],enumerable:!(r=Pu(t,a))||r.enumerable});return e},Bu=(e,t,n)=>(n=e!=null?Nu(Vu(e)):{},Du(!e||!e.__esModule?rs(n,"default",{value:e,enumerable:!0}):n,e)),da=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},E=(e,t,n)=>(da(e,t,"read from private field"),n?n.call(e):t.get(e)),j=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},de=(e,t,n,r)=>(da(e,t,"write to private field"),t.set(e,n),n),Ja=(e,t,n,r)=>({set _(a){de(e,t,a)},get _(){return E(e,t,r)}}),se=(e,t,n)=>(da(e,t,"access private method"),n),Wu=Mu(e=>{e.byteLength=c,e.toByteArray=l,e.fromByteArray=g;var t=[],n=[],r=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(i=0,u=a.length;i<u;++i)t[i]=a[i],n[a.charCodeAt(i)]=i;var i,u;n[45]=62,n[95]=63;function s(h){var m=h.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=h.indexOf("=");y===-1&&(y=m);var w=y===m?0:4-y%4;return[y,w]}function c(h){var m=s(h),y=m[0],w=m[1];return(y+w)*3/4-w}function o(h,m,y){return(m+y)*3/4-y}function l(h){var m,y=s(h),w=y[0],b=y[1],p=new r(o(h,w,b)),T=0,_=b>0?w-4:w,x;for(x=0;x<_;x+=4)m=n[h.charCodeAt(x)]<<18|n[h.charCodeAt(x+1)]<<12|n[h.charCodeAt(x+2)]<<6|n[h.charCodeAt(x+3)],p[T++]=m>>16&255,p[T++]=m>>8&255,p[T++]=m&255;return b===2&&(m=n[h.charCodeAt(x)]<<2|n[h.charCodeAt(x+1)]>>4,p[T++]=m&255),b===1&&(m=n[h.charCodeAt(x)]<<10|n[h.charCodeAt(x+1)]<<4|n[h.charCodeAt(x+2)]>>2,p[T++]=m>>8&255,p[T++]=m&255),p}function d(h){return t[h>>18&63]+t[h>>12&63]+t[h>>6&63]+t[h&63]}function f(h,m,y){for(var w,b=[],p=m;p<y;p+=3)w=(h[p]<<16&16711680)+(h[p+1]<<8&65280)+(h[p+2]&255),b.push(d(w));return b.join("")}function g(h){for(var m,y=h.length,w=y%3,b=[],p=16383,T=0,_=y-w;T<_;T+=p)b.push(f(h,T,T+p>_?_:T+p));return w===1?(m=h[y-1],b.push(t[m>>2]+t[m<<4&63]+"==")):w===2&&(m=(h[y-2]<<8)+h[y-1],b.push(t[m>>10]+t[m>>4&63]+t[m<<2&63]+"=")),b.join("")}}),ju={default:new URL("https://db.fauna.com"),local:new URL("http://localhost:8443"),localhost:new URL("http://localhost:8443")},Ft=class extends Error{constructor(...e){super(...e)}},Ae=class extends Ft{constructor(t,n){super(t.error.message);Q(this,"httpStatus");Q(this,"code");Q(this,"queryInfo");Q(this,"constraint_failures");Error.captureStackTrace&&Error.captureStackTrace(this,Ae),this.name="ServiceError",this.code=t.error.code,this.httpStatus=n;let r={txn_ts:t.txn_ts,summary:t.summary,query_tags:t.query_tags,stats:t.stats};this.queryInfo=r,this.constraint_failures=t.error.constraint_failures}},as=class extends Ae{constructor(e,t){super(e,t),Error.captureStackTrace&&Error.captureStackTrace(this,as),this.name="QueryRuntimeError"}},Qn=class extends Ae{constructor(e,t){super(e,t),Error.captureStackTrace&&Error.captureStackTrace(this,Qn),this.name="QueryCheckError"}},fa=class extends Ae{constructor(e,t){super(e,t),Error.captureStackTrace&&Error.captureStackTrace(this,fa),this.name="InvalidRequestError"}},Hu=class extends Ae{constructor(t,n){super(t,n);Q(this,"constraint_failures");Error.captureStackTrace&&Error.captureStackTrace(this,Qn),this.name="ConstraintFailureError",this.constraint_failures=t.error.constraint_failures}},qu=class extends Ae{constructor(t,n){super(t,n);Q(this,"abort");Error.captureStackTrace&&Error.captureStackTrace(this,Qn),this.name="AbortError",this.abort=t.error.abort}},is=class extends Ae{constructor(e,t){super(e,t),Error.captureStackTrace&&Error.captureStackTrace(this,is),this.name="AuthenticationError"}},ss=class extends Ae{constructor(e,t){super(e,t),Error.captureStackTrace&&Error.captureStackTrace(this,ss),this.name="AuthorizationError"}},Uu=class extends Ae{constructor(e,t){super(e,t),Error.captureStackTrace&&Error.captureStackTrace(this,fa),this.name="ContendedTransactionError"}},Zn=class extends Ae{constructor(e,t){super(e,t),Error.captureStackTrace&&Error.captureStackTrace(this,Zn),this.name="ThrottlingError"}},os=class extends Ae{constructor(t,n){super(t,n);Q(this,"stats");Error.captureStackTrace&&Error.captureStackTrace(this,os),this.name="QueryTimeoutError",this.stats=t.stats}},cs=class extends Ae{constructor(e,t){super(e,t),Error.captureStackTrace&&Error.captureStackTrace(this,cs),this.name="ServiceInternalError"}},Re=class extends Ft{constructor(e,t){super(e,t),Error.captureStackTrace&&Error.captureStackTrace(this,Re),this.name="ClientError"}},Ht=class extends Ft{constructor(e,t){super(e,t),Error.captureStackTrace&&Error.captureStackTrace(this,Ht),this.name="ClientClosedError"}},$e=class extends Ft{constructor(e,t){super(e,t),Error.captureStackTrace&&Error.captureStackTrace(this,$e),this.name="NetworkError"}},Ct=class extends Ft{constructor(t){super(t.message);Q(this,"httpStatus");Error.captureStackTrace&&Error.captureStackTrace(this,Ct),this.name="ProtocolError",this.httpStatus=t.httpStatus}},Vt=(e,t)=>{switch(e.error.code){case"invalid_query":return new Qn(e,t);case"invalid_request":return new fa(e,t);case"abort":if(e.error.abort!==void 0)return new qu(e,t);break;case"constraint_failure":if(e.error.constraint_failures!==void 0)return new Hu(e,t);break;case"unauthorized":return new is(e,t);case"forbidden":return new ss(e,t);case"contended_transaction":return new Uu(e,t);case"limit_exceeded":return new Zn(e,t);case"time_out":return new os(e,t);case"internal_error":return new cs(e,t)}return new as(e,t)},Be={QUERY:"/query/1",STREAM:"/stream/1",EVENT_FEED:"/feed/1"},rn,Vn,Ln,At,an,Ir,ai,Gu=(ai=class{constructor({url:e,fetch_keepalive:t}){ae(this,an);ae(this,rn);ae(this,Vn,Be.QUERY);ae(this,Ln,Be.STREAM);ae(this,At);ce(this,rn,e),ce(this,At,t)}async request({data:e,headers:t,method:n,client_timeout_ms:r,path:a=L(this,Vn)}){let i=AbortSignal.timeout===void 0?(()=>{let l=new AbortController,d=l.signal;return setTimeout(()=>l.abort(),r),d})():AbortSignal.timeout(r),u=await fetch(wt(this,an,Ir).call(this,a),{method:n,headers:{...t,"Content-Type":"application/json"},body:JSON.stringify(e),signal:i,keepalive:L(this,At)}).catch(l=>{throw new $e("The network connection encountered a problem.",{cause:l})}),s=u.status,c={};u.headers.forEach((l,d)=>c[d]=l);let o=await u.text();return{status:s,body:o,headers:c}}stream({data:e,headers:t,method:n,path:r=L(this,Ln)}){let a=new Request(wt(this,an,Ir).call(this,r),{method:n,headers:{...t,"Content-Type":"application/json"},body:JSON.stringify(e),keepalive:L(this,At)}),i=new AbortController,u={signal:i.signal};async function*s(){let c=await fetch(a,u).catch(f=>{throw new $e("The network connection encountered a problem.",{cause:f})}),o=c.status;if(!(o>=200&&o<400)){let f=await c.json();throw Vt(f,o)}let l=c.body;if(!l)throw new Error("Response body is undefined.");let d=l.getReader();try{for await(let f of zu(d))yield f}catch(f){throw new $e("The network connection encountered a problem while streaming events.",{cause:f})}}return{read:s(),close:()=>{i.abort("Stream closed by the client.")}}}close(){}},rn=new WeakMap,Vn=new WeakMap,Ln=new WeakMap,At=new WeakMap,an=new WeakSet,Ir=function(e){return new URL(e,L(this,rn)).toString()},ai);async function*zu(e){let t=new TextDecoder,n="";for await(let r of Ju(e)){let a=t.decode(r),i=(n+a).split(`
`);for(let u=0;u<i.length-1;u++)yield i[u].trim();n=i[i.length-1]}n.trim()!==""&&(yield n)}async function*Ju(e){let t=!1;do{let n=await e.read();n.value!==void 0&&(yield n.value),t=n.done}while(!t)}var Ve;try{Ve=ua("node:http2")}catch{Ve=void 0}var Xt,An,kn,Rn,st,Te,Ar,kr,Rr,ls,qt,gn,En,or,Or,us,Nr,ds,St=class{constructor({http2_session_idle_ms:e,url:t,http2_max_streams:n}){if(j(this,qt),j(this,En),j(this,Or),j(this,Nr),j(this,An,void 0),j(this,kn,void 0),j(this,Rn,void 0),j(this,st,0),j(this,Te,void 0),j(this,Ar,Be.QUERY),j(this,kr,Be.STREAM),Ve===void 0)throw new Error("Your platform does not support Node's http2 library");de(this,An,e),de(this,kn,n),de(this,Rn,t),de(this,Te,null)}static getClient(e){var t;let n=se(t=St,Rr,ls).call(t,e);E(St,Xt).has(n)||E(St,Xt).set(n,new St(e));let r=E(St,Xt).get(n);return Ja(r,st)._++,r}async request(e){let t=0,n;do try{return await se(this,Or,us).call(this,e)}catch(r){if((r==null?void 0:r.code)!=="ERR_HTTP2_GOAWAY_SESSION")throw new $e("The network connection encountered a problem.",{cause:r});n=r,t++}while(t<3);throw new $e("The network connection encountered a problem.",{cause:n})}stream(e){return se(this,Nr,ds).call(this,e)}close(){this.isClosed()||(Ja(this,st)._--,E(this,st)===0&&E(this,Te)&&!E(this,Te).closed&&E(this,Te).close())}isClosed(){return E(this,st)===0}},Pr=St;Xt=new WeakMap,An=new WeakMap,kn=new WeakMap,Rn=new WeakMap,st=new WeakMap,Te=new WeakMap,Ar=new WeakMap,kr=new WeakMap,Rr=new WeakSet,ls=function({http2_session_idle_ms:e,url:t}){return`${t}|${e}`},qt=new WeakSet,gn=function(){de(this,st,0),E(this,Te)&&!E(this,Te).closed&&E(this,Te).close()},En=new WeakSet,or=function(){if(!E(this,Te)||E(this,Te).closed||E(this,Te).destroyed){let e=Ve.connect(E(this,Rn),{peerMaxConcurrentStreams:E(this,kn)}).once("error",()=>se(this,qt,gn).call(this)).once("goaway",()=>se(this,qt,gn).call(this));e.setTimeout(E(this,An),()=>{se(this,qt,gn).call(this)}),de(this,Te,e)}return E(this,Te)},Or=new WeakSet,us=function({client_timeout_ms:e,data:t,headers:n,method:r,path:a=E(this,Ar)}){return new Promise((i,u)=>{let s,c=o=>{let l=Number(o[Ve.constants.HTTP2_HEADER_STATUS]),d="";s.on("data",f=>{d+=f}),s.on("end",()=>{i({status:l,body:d,headers:o})})};try{let o={...n,[Ve.constants.HTTP2_HEADER_PATH]:a,[Ve.constants.HTTP2_HEADER_METHOD]:r};s=se(this,En,or).call(this).request(o).setEncoding("utf8").on("error",l=>{u(l)}).on("response",c),s.write(JSON.stringify(t),"utf8"),s.setTimeout(e,()=>{s.destroy(new Error("Client timeout"))}),s.end()}catch(o){u(o)}})},Nr=new WeakSet,ds=function({data:e,headers:t,method:n,path:r=E(this,kr)}){let a,i,u=()=>new Promise((f,g)=>{a=f,i=g}),s=u(),c,o=f=>{let g=Number(f[Ve.constants.HTTP2_HEADER_STATUS]);if(g>=200&&g<400){let h="";c.on("data",m=>{let y=(h+m).split(`
`);a(y.map(w=>w.trim()).slice(0,-1)),s=u(),h=y[y.length-1]}),c.on("end",()=>{a([h])})}else{let h="";c.on("data",m=>{h+=m}),c.on("end",()=>{try{let m=JSON.parse(h);i(Vt(m,g))}catch(m){i(new $e("Could not process query failure.",{cause:m}))}})}},l=this;async function*d(){var f;let g={...t,[Ve.constants.HTTP2_HEADER_PATH]:r,[Ve.constants.HTTP2_HEADER_METHOD]:n};c=se(f=l,En,or).call(f).request(g).setEncoding("utf8").on("error",m=>{i(m)}).on("response",o);let h=JSON.stringify(e);for(c.write(h,"utf8"),c.end();;){let m=await s;for(let y of m)yield y}}return{read:d(),close:()=>{c&&c.close()}}},j(Pr,Rr),j(Pr,Xt,new Map);var Ku=e=>Qu()?Pr.getClient(e):new Gu(e),Yu=e=>e instanceof Object&&"body"in e&&"headers"in e&&"status"in e,Xu=e=>"stream"in e&&typeof e.stream=="function",Qu=()=>{var e;if(typeof process<"u"&&process&&((e=process.release)==null?void 0:e.name)==="node")try{return ua("node:http2"),!0}catch{return!1}return!1},fs=Bu(Wu()),Zu=/(?:\d{4}|[\u2212-]\d{4,}|\+\d{5,})/,$u=/(?:0[1-9]|1[0-2])/,ed=/(?:0[1-9]|[12]\d|3[01])/,hs=/(?:[01][0-9]|2[0-3])/,Qt=/(?:[0-5][0-9])/,td=/(?:\.\d+)/,ha=new RegExp(`(${Zu.source}-(${$u.source})-(${ed.source}))`),nd=new RegExp(`(${hs.source}:${Qt.source}:${Qt.source}${td.source}?)`),rd=new RegExp(`([zZ]|[+−-]${hs.source}(?::?${Qt.source}|:${Qt.source}:${Qt.source}))`),ad=new RegExp(`^${ha.source}$`),id=new RegExp(`^${ha.source}`),sd=new RegExp(`^${ha.source}T${nd.source}${rd.source}$`),en=class{constructor(e){Q(this,"isoString");this.isoString=e}static from(e){if(typeof e!="string")throw new TypeError(`Expected string but received ${typeof e}: ${e}`);if(sd.exec(e)===null)throw new RangeError(`(regex) Expected an ISO date string but received '${e}'`);return new en(e)}static fromDate(e){return new en(e.toISOString())}toDate(){let e=new Date(this.isoString);if(e.toString()==="Invalid Date")throw new RangeError("Fauna Date could not be converted to Javascript Date");return e}toString(){return`TimeStub("${this.isoString}")`}},tn=class{constructor(e){Q(this,"dateString");this.dateString=e}static from(e){if(typeof e!="string")throw new TypeError(`Expected string but received ${typeof e}: ${e}`);let t=ad.exec(e);if(t===null)throw new RangeError(`Expected a plain date string but received '${e}'`);return new tn(t[0])}static fromDate(e){let t=e.toISOString(),n=id.exec(t);if(n===null)throw new Re(`Failed to parse date '${e}'`);return new tn(n[0])}toDate(){let e=new Date(this.dateString+"T00:00:00Z");if(e.toString()==="Invalid Date")throw new RangeError("Fauna Date could not be converted to Javascript Date");return e}toString(){return`DateStub("${this.dateString}")`}},nn=class{constructor({coll:e,id:t}){Q(this,"coll");Q(this,"id");this.id=t,typeof e=="string"?this.coll=new ln(e):this.coll=e}},gs=class extends nn{constructor(t){let{coll:n,id:r,ts:a,...i}=t;super({coll:n,id:r});Q(this,"ts");Q(this,"ttl");this.ts=a,Object.assign(this,i)}toObject(){return{...this}}},$n=class{constructor({coll:e,name:t}){Q(this,"coll");Q(this,"name");this.name=t,typeof e=="string"?this.coll=new ln(e):this.coll=e}},vs=class extends $n{constructor(t){let{coll:n,name:r,ts:a,data:i,...u}=t;super({coll:n,name:r});Q(this,"ts");Q(this,"data");this.ts=a,this.data=i||{},Object.assign(this,u)}toObject(){return{...this}}},ln=class{constructor(e){Q(this,"name");this.name=e}},ga=class{constructor(e,t){Q(this,"ref");Q(this,"cause");this.ref=e,this.cause=t}},Lt=class{constructor({data:e,after:t}){Q(this,"data");Q(this,"after");this.data=e,this.after=t}},un=class{constructor(e){Q(this,"after");this.after=e}},Qe,ii,On=(ii=class{constructor(e,t,n){ae(this,Qe);if(n=n??{},t instanceof Function)ce(this,Qe,cd(e,t,n));else if(t instanceof Lt||t instanceof un)ce(this,Qe,ms(e,t,n));else throw new TypeError(`Expected 'Page<T> | EmbeddedSet | (() => Promise<T | Page<T> | EmbeddedSet>)', but received ${JSON.stringify(t)}`)}static fromQuery(e,t,n){return new On(e,async()=>(await e.query(t,n)).data,n)}static fromPageable(e,t,n){return new On(e,t,n)}flatten(){return new od(this)}async next(){return L(this,Qe).next()}async return(){return L(this,Qe).return()}async throw(e){return L(this,Qe).throw(e)}[Symbol.asyncIterator](){return this}},Qe=new WeakMap,ii),lt,si,od=(si=class{constructor(e){ae(this,lt);ce(this,lt,ld(e))}async next(){return L(this,lt).next()}async return(){return L(this,lt).return()}async throw(e){return L(this,lt).throw(e)}[Symbol.asyncIterator](){return this}},lt=new WeakMap,si);async function*ms(e,t,n){let r=t;for(r instanceof Lt&&(yield r.data);r.after;){let a=fn`Set.paginate(${r.after})`;r=(await e.query(a,n)).data,yield r.data}}async function*cd(e,t,n){let r=await t();if(r instanceof Lt||r instanceof un){for await(let a of ms(e,r,n))yield a;return}yield[r]}async function*ld(e){for await(let t of e)for(let n of t)yield n}function Nn(e){return typeof e.token=="string"}var va=class{constructor(e){Q(this,"token");this.token=e}},Mn,ps,oi,ud=(oi=class{constructor({events:e,cursor:t,has_next:n,stats:r}){ae(this,Mn);Q(this,"events");Q(this,"cursor");Q(this,"hasNext");Q(this,"stats");this.events=wt(this,Mn,ps).call(this,e),this.cursor=t,this.hasNext=n,this.stats=r}},Mn=new WeakSet,ps=function*(e){for(let t of e){if(t.type==="error")throw Vt(t);yield t}},oi),dn=class{static encode(e){return Ot(e)}static encodeInterpolation(e){return er(e)}static decode(e,t){return JSON.parse(e,(n,r)=>{if(r==null)return null;if(r["@mod"])return new ln(r["@mod"]);if(r["@doc"]){if(typeof r["@doc"]=="string"){let[i,u]=r["@doc"].split(":");return new nn({coll:i,id:u})}let a=r["@doc"];return a.id?new gs(a):new vs(a)}else if(r["@ref"]){let a=r["@ref"],i;return a.id?i=new nn(a):i=new $n(a),"exists"in a&&a.exists===!1?new ga(i,a.cause):i}else{if(r["@set"])return typeof r["@set"]=="string"?new un(r["@set"]):new Lt(r["@set"]);if(r["@int"])return Number(r["@int"]);if(r["@long"]){let a=BigInt(r["@long"]);return t.long_type==="number"?((a>Number.MAX_SAFE_INTEGER||a<Number.MIN_SAFE_INTEGER)&&console.warn("Value is too large to be represented as a number. Returning as Number with loss of precision. Use long_type 'bigint' instead."),Number(a)):a}else{if(r["@double"])return Number(r["@double"]);if(r["@date"])return tn.from(r["@date"]);if(r["@time"])return en.from(r["@time"]);if(r["@object"])return r["@object"];if(r["@stream"])return new va(r["@stream"]);if(r["@bytes"])return md(r["@bytes"])}}return r})}},dd=BigInt("-9223372036854775808"),fd=BigInt("9223372036854775807"),Ka=-2147483648,Ya=2**31-1,ye={bigint:e=>{if(e<dd||e>fd)throw new RangeError("BigInt value exceeds max magnitude for a 64-bit Fauna long. Use a 'number' to represent doubles beyond that limit.");return e>=Ka&&e<=Ya?{"@int":e.toString()}:{"@long":e.toString()}},number:e=>{if(e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)throw new RangeError(`Cannot convert ${e} to a Fauna type.`);return Number.isInteger(e)?e>=Ka&&e<=Ya?{"@int":e.toString()}:Number.isSafeInteger(e)?{"@long":e.toString()}:{"@double":e.toString()}:{"@double":e.toString()}},string:e=>e,object:e=>{let t=!1,n={};for(let r in e)r.startsWith("@")&&(t=!0),e[r]!==void 0&&(n[r]=Ot(e[r]));return t?{"@object":n}:n},array:e=>e.map(Ot),date:e=>({"@time":e.toISOString()}),faunadate:e=>({"@date":e.dateString}),faunatime:e=>({"@time":e.isoString}),module:e=>({"@mod":e.name}),documentReference:e=>({"@ref":{id:e.id,coll:{"@mod":e.coll.name}}}),document:e=>({"@ref":{id:e.id,coll:{"@mod":e.coll.name}}}),namedDocumentReference:e=>({"@ref":{name:e.name,coll:{"@mod":e.coll.name}}}),namedDocument:e=>({"@ref":{name:e.name,coll:{"@mod":e.coll.name}}}),set:e=>{throw new Re("Page could not be encoded. Fauna does not accept encoded Set values, yet. Use Page.data and Page.after as arguments, instead.")},streamToken:e=>e.token,bytes:e=>({"@bytes":pd(e)})},Ot=e=>{switch(typeof e){case"bigint":return ye.bigint(e);case"string":return ye.string(e);case"number":return ye.number(e);case"boolean":return e;case"object":if(e==null)return null;if(Array.isArray(e))return ye.array(e);if(e instanceof Date)return ye.date(e);if(e instanceof tn)return ye.faunadate(e);if(e instanceof en)return ye.faunatime(e);if(e instanceof ln)return ye.module(e);if(e instanceof gs)return ye.document(e);if(e instanceof nn)return ye.documentReference(e);if(e instanceof vs)return ye.namedDocument(e);if(e instanceof $n)return ye.namedDocumentReference(e);if(e instanceof ga)return Ot(e.ref);if(e instanceof Lt||e instanceof un)return ye.set(e);if(e instanceof va)return ye.streamToken(e);if(e instanceof Uint8Array||e instanceof ArrayBuffer)return ye.bytes(e);if(ArrayBuffer.isView(e))throw new Re("Error encoding TypedArray to Fauna Bytes. Convert your TypedArray to Uint8Array or ArrayBuffer before passing it to Fauna. See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray");if(e instanceof ct)throw new TypeError("Cannot encode instance of type 'Query'. Try using TaggedTypeFormat.encodeInterpolation instead.");return ye.object(e);default:throw new TypeError(`Passing ${typeof e} as a QueryArgument is not supported`)}},er=e=>{switch(typeof e){case"bigint":case"string":case"number":case"boolean":return Xa(Ot(e));case"object":return e==null||e instanceof Date||e instanceof tn||e instanceof en||e instanceof ln||e instanceof nn||e instanceof $n||e instanceof Lt||e instanceof un||e instanceof va||e instanceof Uint8Array||e instanceof ArrayBuffer||ArrayBuffer.isView(e)?Xa(Ot(e)):e instanceof ga?er(e.ref):e instanceof ct?vd(e):Array.isArray(e)?gd(e):hd(e);default:throw new TypeError(`Passing ${typeof e} as a QueryArgument is not supported`)}},hd=e=>{let t={};for(let n in e)e[n]!==void 0&&(t[n]=er(e[n]));return{object:t}},gd=e=>({array:e.map(er)}),vd=e=>e.encode(),Xa=e=>({value:e});function md(e){return fs.default.toByteArray(e)}function pd(e){let t=e instanceof Uint8Array?e:new Uint8Array(e);return fs.default.fromByteArray(t)}function fn(e,...t){return new ct(e,...t)}var Ze,sn,Dn,ci,ct=(ci=class{constructor(e,...t){ae(this,Ze);ae(this,sn);ae(this,Dn);if(e.length===0||e.length!==t.length+1)throw new Error("invalid query constructed");ce(this,Ze,e),ce(this,sn,t),ce(this,Dn,void 0)}encode(){if(L(this,Ze).length===1)return{fql:[L(this,Ze)[0]]};let e=L(this,Ze).flatMap((t,n)=>{if(n===L(this,Ze).length-1)return t===""?[]:[t];let r=L(this,sn)[n],a=dn.encodeInterpolation(r);return[t,a]});return e=e.filter(t=>t!==""),{fql:e}}},Ze=new WeakMap,sn=new WeakMap,Dn=new WeakMap,ci),bd="2.4.1",Pn;try{Pn=ua("node:os")}catch{Pn=void 0}var bs=()=>{let e={driver:["javascript",bd].join("-"),env:"unknown",os:"unknown",runtime:"unknown"};try{let t=typeof window>"u"&&typeof process<"u"&&process.versions!=null&&process.versions.node!=null,n=typeof window<"u"&&typeof window.document<"u",r=typeof self=="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope";t?(e.runtime=["nodejs",process.version].join("-"),e.env=yd(),e.os=[Pn.platform(),Pn.release()].join("-")):r?(e.runtime=Qa(navigator),e.env="Service Worker",e.os=Za(navigator)):n?(e.runtime=Qa(navigator),e.env="browser",e.os=Za(navigator)):typeof EdgeRuntime!="string"&&(e.runtime="Vercel Edge Runtime",e.env="edge")}catch{}return Object.entries(e).filter(([t,n])=>n!=="unknown").map(t=>t.join("=")).join("; ")},Qa=e=>{let t=e.appName,n=""+parseFloat(e.appVersion),r,a,i;return(a=e.userAgent.indexOf("Opera"))!=-1?(t="Opera",n=e.userAgent.substring(a+6),(a=e.userAgent.indexOf("Version"))!=-1&&(n=e.userAgent.substring(a+8))):(a=e.userAgent.indexOf("MSIE"))!=-1?(t="Microsoft Internet Explorer",n=e.userAgent.substring(a+5)):t=="Netscape"&&e.userAgent.indexOf("Trident/")!=-1?(t="Microsoft Internet Explorer",n=e.userAgent.substring(a+5),(a=e.userAgent.indexOf("rv:"))!=-1&&(n=e.userAgent.substring(a+3))):(a=e.userAgent.indexOf("Chrome"))!=-1?(t="Chrome",n=e.userAgent.substring(a+7)):(a=e.userAgent.indexOf("Safari"))!=-1?(t="Safari",n=e.userAgent.substring(a+7),(a=e.userAgent.indexOf("Version"))!=-1&&(n=e.userAgent.substring(a+8)),e.userAgent.indexOf("CriOS")!=-1&&(t="Chrome")):(a=e.userAgent.indexOf("Firefox"))!=-1?(t="Firefox",n=e.userAgent.substring(a+8)):(r=e.userAgent.lastIndexOf(" ")+1)<(a=e.userAgent.lastIndexOf("/"))&&(t=e.userAgent.substring(r,a),n=e.userAgent.substring(a+1),t.toLowerCase()==t.toUpperCase()&&(t=e.appName)),(i=n.indexOf(";"))!=-1&&(n=n.substring(0,i)),(i=n.indexOf(" "))!=-1&&(n=n.substring(0,i)),(i=n.indexOf(")"))!=-1&&(n=n.substring(0,i)),[t,n].join("-")},Za=e=>{let t="unknown",n=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Chrome OS",r:/CrOS/},{s:"Linux",r:/(Linux|X11(?!.*CrOS))/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(Mac OS|MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(let a in n){let i=n[a];if(i.r.test(e.userAgent)){t=i.s;break}}let r="unknown";if(/Windows/.test(t)){let a=/Windows (.*)/.exec(t);a&&(r=a[1]),t="Windows"}switch(t){case"Mac OS":case"Mac OS X":case"Android":{let a=/(?:Android|Mac OS|Mac OS X|MacPPC|MacIntel|Mac_PowerPC|Macintosh) ([._\d]+)/.exec(e.userAgent);a&&(r=a[1]);break}case"iOS":{let a=/OS (\d+)_(\d+)_?(\d+)?/.exec(e.appVersion);a&&(r=a[1]+"."+a[2]+"."+(a[3]??0));break}}return[t,r].join("-")},cr=typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof global<"u"?global:self,yd=()=>{if(!(typeof process<"u"&&process&&te&&typeof te=="object"))return"unknown";let e=[{name:"Netlify",check:function(){return!!te.NETLIFY_IMAGES_CDN_DOMAIN}},{name:"Vercel",check:function(){return!!te.VERCEL}},{name:"Heroku",check:function(){return!!te.PATH&&te.PATH.indexOf(".heroku")!==-1}},{name:"AWS Lambda",check:function(){return!!te.AWS_LAMBDA_FUNCTION_VERSION}},{name:"GCP Cloud Functions",check:function(){return!!te._&&te._.indexOf("google")!==-1}},{name:"GCP Compute Instances",check:function(){return!!te.GOOGLE_CLOUD_PROJECT}},{name:"Azure Cloud Functions",check:function(){return!!te.WEBSITE_FUNCTIONS_AZUREMONITOR_CATEGORIES}},{name:"Azure Compute",check:function(){return!!te.ORYX_ENV_TYPE&&!!te.WEBSITE_INSTANCE_ID&&te.ORYX_ENV_TYPE==="AppService"}},{name:"Mongo Stitch",check:function(){return typeof(cr==null?void 0:cr.StitchError)=="function"}},{name:"Render",check:function(){return!!te.RENDER_SERVICE_ID}},{name:"Begin",check:function(){return!!te.BEGIN_DATA_SCOPE_ID}}].find(t=>t.check());return e?e.name:"unknown"},ys=async(e,{maxAttempts:t,maxBackoff:n,shouldRetry:r=()=>!0,attempt:a=0,sleepFn:i=setTimeout})=>{let u=a>0?Math.min(Math.random()*2**a,n)*1e3:0;a+=1;try{return await e()}catch(s){if(a>=t||r(s)!==!0)throw s;return await new Promise(c=>i(c,u)),ys(e,{maxAttempts:t,maxBackoff:n,shouldRetry:r,attempt:a,sleepFn:i})}},wd=e=>e instanceof Object&&"data"in e,ws=e=>e instanceof Object&&"error"in e&&e.error instanceof Object&&"code"in e.error&&"message"in e.error,Ke={TRACE:"0",DEBUG:"1",INFO:"2",WARN:"3",ERROR:"4",FATAL:"5",OFF:"6"};function _d(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":return e;default:return Ke.OFF}}var Le,li,$a=(li=class{constructor(e){ae(this,Le);ce(this,Le,e)}trace(e,...t){L(this,Le)<=Ke.TRACE&&console.trace(e,...t)}debug(e,...t){L(this,Le)<=Ke.DEBUG&&console.debug(e,...t)}info(e,...t){L(this,Le)<=Ke.INFO&&console.info(e,...t)}warn(e,...t){L(this,Le)<=Ke.WARN&&console.warn(e,...t)}error(e,...t){L(this,Le)<=Ke.ERROR&&console.error(e,...t)}fatal(e,...t){L(this,Le)<=Ke.FATAL&&console.error(e,...t)}},Le=new WeakMap,li),Fr={client_timeout_buffer_ms:5e3,format:"tagged",http2_session_idle_ms:5e3,http2_max_streams:100,long_type:"number",fetch_keepalive:!1,query_timeout_ms:5e3,max_attempts:3,max_backoff:20},lr,we,Ye,Fe,at,Fn,Vr,Tn,ur,Lr,_s,Mr,Es,Dr,Ts,Br,ei,Wr,ti,jr,Ss,xs=class{constructor(e,t){j(this,Fn),j(this,Tn),j(this,Lr),j(this,Mr),j(this,Dr),j(this,Br),j(this,Wr),j(this,jr),j(this,we,void 0),j(this,Ye,void 0),j(this,Fe,void 0),j(this,at,!1),de(this,we,{...Fr,...e,secret:se(this,Lr,_s).call(this,e),endpoint:se(this,Mr,Es).call(this,e),logger:se(this,Dr,Ts).call(this,e)}),se(this,jr,Ss).call(this),t?de(this,Ye,t):de(this,Ye,Ku({url:E(this,we).endpoint.toString(),http2_session_idle_ms:E(this,we).http2_session_idle_ms,http2_max_streams:E(this,we).http2_max_streams,fetch_keepalive:E(this,we).fetch_keepalive}))}get lastTxnTs(){return E(this,Fe)}set lastTxnTs(e){e!==void 0&&de(this,Fe,E(this,Fe)?Math.max(e,E(this,Fe)):e)}get clientConfiguration(){let{...e}=E(this,we);return e}close(){if(E(this,at))throw new Ht("Your client is closed. You cannot close it again.");E(this,Ye).close(),de(this,at,!0)}paginate(e,t){return e instanceof ct?On.fromQuery(this,e,t):On.fromPageable(this,e,t)}async query(e,t){if(E(this,at))throw new Ht("Your client is closed. No further requests can be issued.");let n={query:e.encode()};return t!=null&&t.arguments&&(n.arguments=dn.encode(t.arguments)),se(this,Fn,Vr).call(this,n,t)}stream(e,t){if(E(this,at))throw new Ht("Your client is closed. No further requests can be issued.");let n=E(this,Ye);if(Xu(n)){let r={...E(this,we),httpStreamClient:n,logger:E(this,we).logger,...t};if(r.cursor!==void 0&&e instanceof ct)throw new Re("The `cursor` configuration can only be used with a stream token.");let a=e instanceof ct?()=>this.query(e).then(i=>i.data):e;return new Ed(a,r)}else throw new Re("Streaming is not supported by this client.")}feed(e,t){if(E(this,at))throw new Ht("Your client is closed. No further requests can be issued.");let n={...E(this,we),httpClient:E(this,Ye),logger:E(this,we).logger,...t},r=e instanceof ct?()=>this.query(e).then(a=>a.data):e;return new Ns(r,n)}},Cs=xs;lr=new WeakMap,we=new WeakMap,Ye=new WeakMap,Fe=new WeakMap,at=new WeakMap,Fn=new WeakSet,Vr=async function(e,t,n=0){let r=this.clientConfiguration.max_backoff??Fr.max_backoff,a=this.clientConfiguration.max_attempts??Fr.max_attempts,i=Math.min(Math.random()*2**n,r)*1e3;n+=1;try{return await se(this,Br,ei).call(this,e,t,n)}catch(u){if(u instanceof Zn&&n<a)return await Ps(i),se(this,Fn,Vr).call(this,e,t,n);throw u}},Tn=new WeakSet,ur=function(e){if(e instanceof Re||e instanceof $e||e instanceof Ct||e instanceof Ae)return e;if(Yu(e)){if(ws(e.body)){let t=e.body,n=e.status;return Vt(t,n)}return new Ct({message:`Response is in an unkown format: ${e.body}`,httpStatus:e.status})}return new Re("A client level error occurred. Fauna was not called.",{cause:e})},Lr=new WeakSet,_s=function(e){let t;typeof process<"u"&&process&&typeof process=="object"&&te&&typeof te=="object"&&(t=te.FAUNA_SECRET);let n=(e==null?void 0:e.secret)??t;if(n===void 0)throw new TypeError("You must provide a secret to the driver. Set it in an environmental variable named FAUNA_SECRET or pass it to the Client constructor.");return n},Mr=new WeakSet,Es=function(e){if(e&&"endpoint"in e&&e.endpoint===void 0)throw new TypeError("ClientConfiguration option endpoint must be defined.");let t;return typeof process<"u"&&process&&typeof process=="object"&&te&&typeof te=="object"&&(t=te.FAUNA_ENDPOINT?new URL(te.FAUNA_ENDPOINT):void 0),(e==null?void 0:e.endpoint)??t??ju.default},Dr=new WeakSet,Ts=function(e){if(e&&"logger"in e&&e.logger===void 0)throw new TypeError("ClientConfiguration option logger must be defined.");if(e!=null&&e.logger)return e.logger;if(typeof process<"u"&&process&&typeof process=="object"&&te&&typeof te=="object"){let t=_d(te.FAUNA_DEBUG);return new $a(t)}return new $a(Ke.OFF)},Br=new WeakSet,ei=async function(e,t,n=0){try{let r={...E(this,we),...t},a={Authorization:`Bearer ${r.secret}`};se(this,Wr,ti).call(this,r,a);let i=r.format==="tagged",u=r.query_timeout_ms+E(this,we).client_timeout_buffer_ms,s="POST";E(this,we).logger.debug("Fauna HTTP %s request to %s (timeout: %s), headers: %s",s,Be.QUERY,u.toString(),JSON.stringify(a));let c=await E(this,Ye).request({client_timeout_ms:u,data:e,headers:a,method:s});if(E(this,we).logger.debug("Fauna HTTP response %s from %s, headers: %s",c.status,Be.QUERY,JSON.stringify(c.headers)),c.status===200&&(c.body.length===0||c.headers["content-length"]==="0"))throw new Ct({message:"There was an issue communicating with Fauna. Response is empty. Please try again.",httpStatus:500});let o;try{if(o={...c,body:i?dn.decode(c.body,{long_type:r.long_type}):JSON.parse(c.body)},o.body.query_tags){let f=o.body.query_tags.split(",").map(g=>g.split("="));o.body.query_tags=Object.fromEntries(f)}}catch(f){throw new Ct({message:`Error parsing response as JSON: ${f}`,httpStatus:c.status})}if(!wd(o.body))throw se(this,Tn,ur).call(this,o);let l=o.body.txn_ts;(E(this,Fe)===void 0&&l!==void 0||l!==void 0&&E(this,Fe)!==void 0&&E(this,Fe)<l)&&de(this,Fe,l);let d=o.body;return d.stats&&(d.stats.attempts=n),d}catch(r){throw se(this,Tn,ur).call(this,r)}},Wr=new WeakSet,ti=function(e,t){let n=(r,a,i=u=>String(u))=>{a!==void 0&&(t[r]=i(a))};n("x-format",e.format),n("x-typecheck",e.typecheck),n("x-performance-hints",e.performance_hints),n("x-query-timeout-ms",e.query_timeout_ms),n("x-linearized",e.linearized),n("x-max-contention-retries",e.max_contention_retries),n("traceparent",e.traceparent),n("x-query-tags",e.query_tags,r=>Object.entries(r).map(a=>a.join("=")).join(",")),n("x-last-txn-ts",E(this,Fe),r=>r),n("x-driver-env",E(xs,lr))},jr=new WeakSet,Ss=function(){let e=E(this,we);if(["client_timeout_buffer_ms","endpoint","format","http2_session_idle_ms","long_type","query_timeout_ms","fetch_keepalive","http2_max_streams","max_backoff","max_attempts"].forEach(t=>{if(e[t]===void 0)throw new TypeError(`ClientConfiguration option '${t}' must be defined.`)}),e.http2_max_streams<=0)throw new RangeError("'http2_max_streams' must be greater than zero.");if(e.client_timeout_buffer_ms<=0)throw new RangeError("'client_timeout_buffer_ms' must be greater than zero.");if(e.query_timeout_ms<=0)throw new RangeError("'query_timeout_ms' must be greater than zero.");if(e.max_backoff<=0)throw new RangeError("'max_backoff' must be greater than zero.");if(e.max_attempts<=0)throw new RangeError("'max_attempts' must be greater than zero.")},j(Cs,lr,bs());var Ce,ut,kt,on,cn,dt,Rt,Bn,Nt,Is,As,ui,Ed=(ui=class{constructor(e,t){ae(this,Nt);Q(this,"closed",!1);ae(this,Ce);ae(this,ut,0);ae(this,kt);ae(this,on);ae(this,cn);ae(this,dt);ae(this,Rt);ae(this,Bn);Nn(e)?ce(this,kt,()=>Promise.resolve(e)):ce(this,kt,e),ce(this,Ce,t),ce(this,Bn,t.logger),wt(this,Nt,As).call(this)}start(e,t){if(typeof e!="function")throw new TypeError(`Expected a function as the 'onEvent' argument, but received ${typeof e}. Please provide a valid function.`);if(t&&typeof t!="function")throw new TypeError(`Expected a function as the 'onError' argument, but received ${typeof t}. Please provide a valid function.`);(async()=>{try{for await(let n of this)e(n)}catch(n){t&&t(n)}})()}async*[Symbol.asyncIterator](){if(this.closed)throw new Re("The stream has been closed and cannot be reused.");for(L(this,Rt)||ce(this,Rt,await L(this,kt).call(this).then(e=>{if(!Nn(e))throw new Re(`Error requesting a stream token. Expected a EventSource as the query result, but received ${typeof e}. Your query must return the result of '<Set>.eventSource' or '<Set>.eventsOn')
Query result: ${JSON.stringify(e,null)}`);return e})),ce(this,ut,1);!this.closed;){let e=Math.min(Math.random()*2**L(this,ut),L(this,Ce).max_backoff)*1e3;try{for await(let t of wt(this,Nt,Is).call(this))yield t}catch(t){if(t instanceof Ft||L(this,ut)>=L(this,Ce).max_attempts)throw this.close(),t;ce(this,ut,L(this,ut)+1),await Ps(e)}}}close(){L(this,dt)&&(L(this,dt).close(),ce(this,dt,void 0)),this.closed=!0}get last_ts(){return L(this,on)}},Ce=new WeakMap,ut=new WeakMap,kt=new WeakMap,on=new WeakMap,cn=new WeakMap,dt=new WeakMap,Rt=new WeakMap,Bn=new WeakMap,Nt=new WeakSet,Is=async function*(){let e=L(this,Rt),t={Authorization:`Bearer ${L(this,Ce).secret}`},n={data:{token:e.token,cursor:L(this,cn)||L(this,Ce).cursor},headers:t,method:"POST"},r=L(this,Ce).httpStreamClient.stream(n);ce(this,dt,r),L(this,Ce).logger.debug("Fauna HTTP %s request to '%s', headers: %s",n.method,Be.STREAM,JSON.stringify(n.headers));for await(let a of r.read){let i=dn.decode(a,{long_type:L(this,Ce).long_type});if(i.type==="error")throw this.close(),Vt(i);ce(this,on,i.txn_ts),ce(this,cn,i.cursor),i.type==="start"&&(i.type="status"),!(!L(this,Ce).status_events&&i.type==="status")&&(yield i)}},As=function(){let e=L(this,Ce);if(["long_type","httpStreamClient","max_backoff","max_attempts","secret"].forEach(t=>{if(e[t]===void 0)throw new TypeError(`ClientConfiguration option '${t}' must be defined.`)}),e.max_backoff<=0)throw new RangeError("'max_backoff' must be greater than zero.");if(e.max_attempts<=0)throw new RangeError("'max_attempts' must be greater than zero.")},ui),dr,Zt,me,It,Ut,Gt,Hr,ni,qr,ks,Ur,ri,Gr,Rs,Os=class{constructor(e,t){j(this,Hr),j(this,qr),j(this,Ur),j(this,Gr),j(this,Zt,void 0),j(this,me,void 0),j(this,It,void 0),j(this,Ut,void 0),j(this,Gt,void 0),Nn(e)?de(this,Zt,()=>Promise.resolve(e)):de(this,Zt,e),de(this,me,t),de(this,It,t.cursor),se(this,Gr,Rs).call(this)}async*[Symbol.asyncIterator](){for(;!E(this,Gt);)yield await this.nextPage()}async nextPage(){if(E(this,Gt))throw new Re("The event feed has no more pages to fetch.");let{httpClient:e}=E(this,me),t=await se(this,qr,ks).call(this);E(this,me).logger.debug("Fauna HTTP %s request to '%s' (timeout: %s), headers: %s",t.method,Be.EVENT_FEED,t.client_timeout_ms,JSON.stringify(t.headers));let n=await ys(()=>e.request(t),{maxAttempts:E(this,me).max_attempts,maxBackoff:E(this,me).max_backoff,shouldRetry:i=>i instanceof Zn});E(this,me).logger.debug("Fauna HTTP response '%s' from %s, headers: %s",n.status,Be.EVENT_FEED,JSON.stringify(n.headers));let r;try{r=dn.decode(n.body,{long_type:E(this,me).long_type})}catch(i){throw new Ct({message:`Error parsing response as JSON: ${i}`,httpStatus:n.status})}if(ws(r))throw Vt(r,n.status);let a=new ud(r);return de(this,It,a.cursor),de(this,Gt,!a.hasNext),a}async*flatten(){for await(let e of this)for(let t of e.events)yield t}},Ns=Os;dr=new WeakMap,Zt=new WeakMap,me=new WeakMap,It=new WeakMap,Ut=new WeakMap,Gt=new WeakMap,Hr=new WeakSet,ni=function(){return{Authorization:`Bearer ${E(this,me).secret}`,"x-format":"tagged","x-driver-env":E(Os,dr),"x-query-timeout-ms":E(this,me).query_timeout_ms.toString()}},qr=new WeakSet,ks=async function(){E(this,Ut)||de(this,Ut,await se(this,Ur,ri).call(this,E(this,Zt)));let e=se(this,Hr,ni).call(this),t=E(this,me).client_timeout_buffer_ms+E(this,me).query_timeout_ms,n={headers:e,client_timeout_ms:t,method:"POST",data:{token:E(this,Ut).token},path:Be.EVENT_FEED};return E(this,me).page_size&&(n.data.page_size=E(this,me).page_size),E(this,It)?n.data.cursor=E(this,It):E(this,me).start_ts&&(n.data.start_ts=E(this,me).start_ts),n},Ur=new WeakSet,ri=async function(e){return await e().then(t=>{if(!Nn(t))throw new Re(`Error requesting a stream token. Expected a EventSource as the query result, but received ${typeof t}. Your query must return the result of '<Set>.eventSource' or '<Set>.eventsOn')
Query result: ${JSON.stringify(t,null)}`);return t})},Gr=new WeakSet,Rs=function(){let e=E(this,me);if(["long_type","httpClient","max_backoff","max_attempts","client_timeout_buffer_ms","query_timeout_ms","secret"].forEach(t=>{if(e[t]===void 0)throw new TypeError(`ClientConfiguration option '${t}' must be defined.`)}),e.max_backoff<=0)throw new RangeError("'max_backoff' must be greater than zero.");if(e.max_attempts<=0)throw new RangeError("'max_attempts' must be greater than zero.");if(e.query_timeout_ms<=0)throw new RangeError("'query_timeout_ms' must be greater than zero.");if(e.client_timeout_buffer_ms<0)throw new RangeError("'client_timeout_buffer_ms' must be greater than or equal to zero.");if(e.start_ts!==void 0&&e.cursor!==void 0)throw new TypeError("Only one of 'start_ts' or 'cursor' can be defined in the client configuration.");if(e.cursor!==void 0&&typeof e.cursor!="string")throw new TypeError("'cursor' must be a string.")},j(Ns,dr,bs());function Ps(e){return new Promise(t=>setTimeout(t,e))}const tr=e=>new Cs({secret:e});async function Td(e,t,n){try{return(await tr(e).query(fn`addEmail(${t}, ${n})`)).data}catch(r){throw r instanceof Error?new Error(r.message):new Error("Error updating email.")}}async function Sd(e,t){try{return(await tr(e).query(fn`deleteEmail(${t})`)).data}catch(n){throw n instanceof Error?new Error(n.message):new Error("Error updating email.")}}async function xd(e,t){try{return(await tr(e).query(fn`Query.identity()!.update({ primaryEmail: ${t} })`)).data}catch(n){throw n instanceof Error?new Error(n.message):new Error("Error updating email.")}}async function Cd(e,t){const n=await tr(e).query(fn`deleteEmailVerification(${t})`);if(!n.data)throw new Error(n.summary);return n.data}var Id=Jr('<svg><g clip-path="url(#clip0_4519_126345)"><path d="M43.5839 37.4071C42.858 39.0841 41.9988 40.6277 41.0033 42.0469C39.6463 43.9817 38.5352 45.3209 37.6789 46.0646C36.3516 47.2853 34.9294 47.9105 33.4065 47.946C32.3132 47.946 30.9947 47.6349 29.4599 47.0038C27.9201 46.3757 26.5051 46.0646 25.2112 46.0646C23.8542 46.0646 22.3988 46.3757 20.8421 47.0038C19.2831 47.6349 18.0271 47.9638 17.0668 47.9964C15.6064 48.0586 14.1508 47.4157 12.6978 46.0646C11.7704 45.2557 10.6105 43.8691 9.22087 41.9047C7.72995 39.807 6.50422 37.3745 5.54395 34.6012C4.51554 31.6058 4 28.7051 4 25.8969C4 22.6801 4.69509 19.9057 6.08734 17.5807C7.18153 15.7132 8.63718 14.2401 10.4591 13.1586C12.2809 12.0772 14.2495 11.5261 16.3694 11.4908C17.5293 11.4908 19.0505 11.8496 20.9408 12.5548C22.8258 13.2623 24.0361 13.6211 24.5667 13.6211C24.9635 13.6211 26.308 13.2016 28.5874 12.3652C30.7428 11.5895 32.562 11.2683 34.0524 11.3948C38.0908 11.7207 41.1247 13.3127 43.1425 16.1807C39.5307 18.3691 37.7441 21.4342 37.7797 25.3662C37.8123 28.429 38.9233 30.9776 41.107 33.0013C42.0966 33.9405 43.2017 34.6664 44.4313 35.182C44.1646 35.9553 43.8832 36.696 43.5839 37.4071ZM34.322 0.960762C34.322 3.36131 33.445 5.6027 31.6969 7.6773C29.5873 10.1436 27.0357 11.5687 24.2687 11.3439C24.2334 11.0559 24.213 10.7528 24.213 10.4343C24.213 8.12973 25.2162 5.66343 26.9978 3.6469C27.8872 2.6259 29.0185 1.77694 30.3903 1.09972C31.7591 0.432598 33.0539 0.0636663 34.2716 0.000488281C34.3072 0.321404 34.322 0.64234 34.322 0.960731V0.960762Z"></path></g></svg>');function Ad(e,t){const n=ea(t,["children","$$slots","$$events","$$legacy"]);var r=Id();let a;X(()=>a=fe(r,a,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",...n},void 0,!0)),N(e,r)}var kd=Jr('<svg><g clip-path="url(#clip0_4519_126364)"><path d="M48 24C48 10.7453 37.2547 0 24 0C10.7453 0 0 10.7453 0 24C0 35.255 7.74912 44.6995 18.2026 47.2934V31.3344H13.2538V24H18.2026V20.8397C18.2026 12.671 21.8995 8.8848 29.9194 8.8848C31.44 8.8848 34.0637 9.18336 35.137 9.48096V16.129C34.5706 16.0694 33.5866 16.0397 32.3645 16.0397C28.4294 16.0397 26.9088 17.5306 26.9088 21.4061V24H34.7482L33.4013 31.3344H26.9088V47.8243C38.7926 46.3891 48.001 36.2707 48.001 24H48Z" fill="#0866FF"></path><path d="M33.4003 31.3344L34.7472 24H26.9078V21.4061C26.9078 17.5306 28.4285 16.0397 32.3635 16.0397C33.5856 16.0397 34.5696 16.0695 35.136 16.129V9.48099C34.0627 9.18243 31.439 8.88483 29.9184 8.88483C21.8986 8.88483 18.2016 12.6711 18.2016 20.8397V24H13.2528V31.3344H18.2016V47.2935C20.0582 47.7543 22.0003 48 23.999 48C24.983 48 25.9536 47.9395 26.9069 47.8243V31.3344H33.3994H33.4003Z" fill="white"></path></g><defs><clipPath id="clip0_4519_126364"><rect width="48" height="48" fill="white"></rect></clipPath></defs></svg>');function Rd(e,t){const n=ea(t,["children","$$slots","$$events","$$legacy"]);var r=kd();let a;X(()=>a=fe(r,a,{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},void 0,!0)),N(e,r)}var Od=Jr('<svg><g clip-path="url(#clip0_4519_126350)"><path d="M23.9996 19.6363V28.9309H36.916C36.3488 31.9199 34.6468 34.4509 32.0941 36.1527L39.8831 42.1964C44.4213 38.0075 47.0395 31.8547 47.0395 24.5456C47.0395 22.8438 46.8868 21.2073 46.6031 19.6366L23.9996 19.6363Z" fill="#4285F4"></path><path d="M10.5494 28.5681L8.79263 29.9128L2.57434 34.7564C6.52342 42.589 14.6174 48 23.9991 48C30.4789 48 35.9116 45.8618 39.8826 42.1965L32.0936 36.1528C29.9554 37.5928 27.2281 38.4656 23.9991 38.4656C17.7591 38.4656 12.4575 34.2547 10.5592 28.5819L10.5494 28.5681Z" fill="#34A853"></path><path d="M2.57436 13.2437C0.938084 16.4726 0 20.1163 0 23.9999C0 27.8834 0.938084 31.5271 2.57436 34.7561C2.57436 34.7778 10.5599 28.5597 10.5599 28.5597C10.08 27.1197 9.79624 25.5926 9.79624 23.9996C9.79624 22.4067 10.08 20.8795 10.5599 19.4395L2.57436 13.2437Z" fill="#FBBC05"></path><path d="M23.9996 9.55636C27.5342 9.55636 30.676 10.7781 33.1851 13.1345L40.0577 6.2619C35.8904 2.37833 30.4797 0 23.9996 0C14.6179 0 6.52342 5.38908 2.57434 13.2437L10.5597 19.44C12.4578 13.7672 17.7596 9.55636 23.9996 9.55636Z" fill="#EA4335"></path></g><defs><clipPath id="clip0_4519_126350"><rect width="48" height="48" fill="white"></rect></clipPath></defs></svg>');function Nd(e,t){const n=ea(t,["children","$$slots","$$events","$$legacy"]);var r=Od();let a;X(()=>a=fe(r,a,{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},void 0,!0)),N(e,r)}const Pd={Apple:Ad,Facebook:Rd,Google:Nd,Github:po};var Fd=(e,t)=>ht(t,!0),Vd=K('<button><span class="font-medium text-surface-800-200"> </span> <span class="font-medium text-surface-800-200"> </span></button>'),Ld=(e,t)=>ht(t,!1),Md=K('<form method="POST"><div class="flex flex-col gap-2"><div class="flex gap-2"><input type="text" name="firstName" class="input"> <input type="text" name="lastName" class="input"></div> <div class="flex gap-2"><button type="submit" class="variant-filled btn">Save</button> <button type="button" class="variant-ghost btn">Cancel</button></div></div></form>'),Dd=K('<span class="ml-2 text-sm font-semibold text-primary-500">Primary</span>'),Bd=(e,t,n)=>t(C(n)),Wd=(e,t,n)=>t(C(n)),jd=K('<div class="flex gap-2"><button class="variant-ghost btn text-sm">Make Primary</button> <button class="variant-outlined btn text-sm">Delete</button></div>'),Hd=K('<li class="flex items-center justify-between"><div class="text-surface-800-200"> <!></div></li>'),qd=(e,t)=>ht(t,!0),Ud=K('<button class="btn">Add a new email</button>'),Gd=(e,t)=>ht(t,!1),zd=K('<form method="POST" class="flex gap-2"><input type="email" name="email" placeholder="Add a new email address" class="input" required> <input type="text" name="userId" required hidden> <button type="submit" class="btn">Add</button> <button type="button" class="btn">Cancel</button></form>'),Jd=(e,t,n)=>t(n.emailVerification),Kd=(e,t,n)=>t(n.emailVerification),Yd=K('<div class="mb-6"><h4 class="mb-2 font-semibold text-surface-800-200">Pending verifications</h4> <ul class="flex flex-col gap-2"><li class="flex items-center justify-between"><span class="text-surface-800-200"> </span> <div class="flex gap-2"><button class="variant-ghost btn text-sm">Resend</button> <button class="variant-outlined btn text-sm">Cancel</button></div></li></ul></div>'),Xd=K('<li class="mb-2 flex items-center justify-between"><span class="flex items-center text-surface-800-200"> </span></li>'),Qd=K('<div class="mx-auto flex w-full max-w-4xl flex-col rounded-container shadow-lg bg-surface-100-900 md:flex-row"><aside class="w-full rounded-l-container border-r p-6 bg-surface-200-800 border-surface-400-600 md:w-1/4"><ul><li class="mb-4 font-semibold text-surface-800-200">Account</li> <li class="text-surface-600-400">Profile</li> <li class="mt-4 text-surface-800-200">Security</li></ul></aside> <div class="w-full p-6 md:w-3/4"><div class="mb-6 flex items-center justify-between"><h2 class="text-lg font-bold text-surface-800-200">Profile details</h2></div> <div class="mb-6 flex items-center gap-4"><!> <!></div> <div class="mb-6"><h3 class="mb-4 font-bold text-surface-800-200">Email addresses</h3> <ul class="mb-4 flex flex-col gap-2"></ul> <!></div> <!> <div><h3 class="mb-4 font-bold text-surface-800-200">Connected accounts</h3> <ul></ul> <button class="mt-2 text-primary-500 hover:underline">+ Connect account</button></div></div></div>');function Ef(e,t){Oe(t,!0);let n=({name:b})=>Pd[b],r=Sn(Ge.data.user?JSON.parse(Ge.data.user):null),a=gr(!1),i=gr(!1);function u(){return async({result:b})=>{b.type==="success"&&ht(a,!1)}}async function s(){return async({result:b})=>{var p;b.type==="success"&&(r.emailVerification=(p=b.data)==null?void 0:p.newEmail,ht(i,!1))}}async function c(b){try{const{primaryEmail:p}=await xd(Ge.data.accessToken,b);r.primaryEmail=p}catch(p){console.error("Error making primary:",p)}}async function o(b){try{const{emails:p}=await Sd(Ge.data.accessToken,b);r.emails=p}catch(p){console.error("Error deleting email:",p)}}async function l(b){try{await fetch("/user-profile?/verifyEmail",{method:"POST",body:JSON.stringify({email:b}),headers:{"Content-Type":"application/json"}})}catch(p){console.error("Error resending verification:",p)}}async function d(b){try{console.log("AccessToken: ",Ge.data.accessToken),await Cd(Ge.data.accessToken,b),r.emailVerification=void 0}catch(p){console.error("Error canceling verification:",p)}}Ei(async()=>{const b=Ge.url.searchParams.get("otp");if(b&&(r!=null&&r.emailVerification))try{const p=await Td(Ge.data.accessToken,r.emailVerification,b);r.emails=p.emails,r.emailVerification=p.emailVerification;const T=new URL(window.location.href);T.searchParams.delete("otp"),history.replaceState({},"",T.toString())}catch(p){console.error("Error verifying email with OTP:",p)}});const f=jn(),[g,h]=f;var m=Ue(),y=Me(m);{var w=b=>{var p=Qd(),T=Y(O(p),2),_=Y(O(T),2),x=O(_),I=D(()=>r.firstName+" "+r.lastName);Il(x,{get src(){return r.avatar},get name(){return C(I)},size:"size-16"});var A=Y(x,2);{var S=z=>{var H=Vd();H.__click=[Fd,a];var ne=O(H),V=O(ne,!0);R(ne);var P=Y(ne,2),J=O(P,!0);R(P),R(H),X(()=>{Xe(V,r.firstName),Xe(J,r.lastName)}),N(z,H)},B=z=>{var H=Md();X(()=>Sa(H,"action",g("/user-profile?/profileData",void 0)));var ne=O(H),V=O(ne),P=O(V);mn(P);var J=Y(P,2);mn(J),R(V);var $=Y(V,2),ge=Y(O($),2);ge.__click=[Ld,a],R($),R(ne),R(H),ka(H,(U,oe)=>Tt==null?void 0:Tt(U,oe),()=>u),xa(P,()=>r.firstName,U=>r.firstName=U),xa(J,()=>r.lastName,U=>r.lastName=U),N(z,H)};ie(A,z=>{C(a)?z(B,!1):z(S)})}R(_);var q=Y(_,2),Z=Y(O(q),2);Ia(Z,21,()=>[r.primaryEmail,...r.emails.filter(z=>z!==r.primaryEmail)],Ca,(z,H)=>{var ne=Hd(),V=O(ne),P=O(V),J=Y(P);{var $=U=>{var oe=Dd();N(U,oe)},ge=U=>{var oe=jd(),ue=O(oe);ue.__click=[Bd,c,H];var _e=Y(ue,2);_e.__click=[Wd,o,H],R(oe),N(U,oe)};ie(J,U=>{C(H)===r.primaryEmail?U($):U(ge,!1)})}R(V),R(ne),X(()=>Xe(P,`${C(H)??""} `)),N(z,ne)}),R(Z);var M=Y(Z,2);{var G=z=>{var H=Ue(),ne=Me(H);{var V=J=>{var $=Ud();$.__click=[qd,i],N(J,$)},P=J=>{var $=zd();X(()=>Sa($,"action",g("/user-profile?/verifyEmail",void 0)));var ge=Y(O($),2);mn(ge);var U=Y(ge,4);U.__click=[Gd,i],R($),ka($,(oe,ue)=>Tt==null?void 0:Tt(oe,ue),()=>s),X(()=>bo(ge,r.id)),N(J,$)};ie(ne,J=>{C(i)?J(P,!1):J(V)})}N(z,H)};ie(M,z=>{r.emailVerification||z(G)})}R(q);var ee=Y(q,2);{var he=z=>{var H=Yd(),ne=Y(O(H),2),V=O(ne),P=O(V),J=O(P,!0);R(P);var $=Y(P,2),ge=O($);ge.__click=[Jd,l,r];var U=Y(ge,2);U.__click=[Kd,d,r],R($),R(V),R(ne),R(H),X(()=>Xe(J,r.emailVerification)),N(z,H)};ie(ee,z=>{r.emailVerification&&z(he)})}var Ee=Y(ee,2),be=Y(O(Ee),2);Ia(be,21,()=>r.accounts,Ca,(z,H)=>{var ne=Ue(),V=Me(ne);{var P=J=>{var $=Xd(),ge=O($),U=O(ge);X(()=>Xe(U,`${n(C(H).socialProvider.name)??""}
									${C(H).socialProvider.name??""} • ${C(H).socialProvider.email??""}`)),R(ge),R($),N(J,$)};ie(V,J=>{C(H).socialProvider&&J(P)})}N(z,ne)}),R(be),vo(2),R(Ee),R(T),R(p),N(b,p)};ie(y,b=>{r&&b(w)})}N(e,m),Ne()}zr(["click"]);export{ft as A,Un as B,Li as C,Gn as D,cf as E,of as F,tt as G,ki as H,re as I,Jn as J,pn as K,Kn as L,ka as M,Ie as N,Ao as O,zn as P,pf as Q,bf as R,Si as S,Il as T,Ef as U,vt as a,df as b,br as c,ra as d,Ia as e,hf as f,Pt as g,yc as h,Ca as i,gt as j,Lo as k,ac as l,vf as m,ff as n,bc as o,gf as p,Fa as q,We as r,ve as s,nl as t,et as u,Cn as v,wn as w,uf as x,lf as y,sf as z};
